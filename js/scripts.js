"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();!function(){var t=function(){function t(e){_classCallCheck(this,t),this.alert=e,this.alert.querySelector(".alert__close").addEventListener("click",this.close.bind(this)),this.alert.close=this.close.bind(this),this.alert.open=this.open.bind(this),this.status=!1}return _createClass(t,[{key:"close",value:function(){var t=this;this.status&&(Velocity(this.alert,"finish"),Velocity(this.alert,{translateY:0},{duration:250,complete:function(){t.status=!1}}))}},{key:"open",value:function(){var t=this;this.status||(Velocity(this.alert,"finish"),Velocity(this.alert,{translateY:this.alert.offsetHeight+"px"},{duration:250,complete:function(){t.status=!0}}))}}]),t}(),e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(function(){[].forEach.call(document.querySelectorAll(".alert"),function(e){new t(e),e.classList.contains("alert_open")&&e.open()})})}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){this.map=document.querySelector(".contact__map"),null!=this.map&&(this.map.style.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-document.querySelector(".contact__wrapper").offsetHeight-document.querySelector(".footer").offsetHeight-document.querySelector(".header").offsetHeight-52+"px",window.addEventListener("resize",this.resize.bind(this)))}},{key:"resize",value:function(){null!=this.map&&(this.map.style.height=Math.max(document.documentElement.clientHeight,window.innerHeight||0)-document.querySelector(".contact__wrapper").offsetHeight-document.querySelector(".footer").offsetHeight-document.querySelector(".header").offsetHeight-52+"px")}}]),e}();new e}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;if(null!=document.querySelector(".landing")){this.fired=!1,this.tablet=1200,this.mobile=750,this.min_height=250,this.meta=document.querySelector("meta[name='viewport']"),this.onResize();var t=document.querySelector(".header"),i=document.querySelector(".clock");document.querySelector(".slide_main");window.requestAnimFrame=window.requestAnimationFrame,$(".landing").fullpage({sectionSelector:".landing__section",navigation:!0,afterLoad:this.hideLoader.bind(this),afterRender:this.recountSlides.bind(this),afterResize:this.recountSlides.bind(this),onLeave:function(s,o,n){1==o?(t.classList.toggle("header_open",!1),e.hideNav()):(t.classList.toggle("header_open",!0),e.showNav()),6==o?i.classList.toggle("clock_visible",!0):i.classList.toggle("clock_visible",!1)}}),document.querySelector(".footer__top").addEventListener("click",this.scrollToTop.bind(this)),window.addEventListener("resize",this.onResize.bind(this));var s=document.querySelector(".landing__section.active");null!=s&&(s.classList.toggle("active_moment",!0),s.classList.toggle("active",!1),setTimeout(function(){s.classList.toggle("active_moment",!1),s.classList.toggle("active",!0)},0))}}},{key:"onResize",value:function(){Math.max(document.documentElement.clientHeight,window.innerHeight||0)>420&&Math.max(document.documentElement.clientWidth,window.innerWidth||0)<500?this.meta.setAttribute("content","width=400"):this.meta.setAttribute("content","width=device-width, initial-scale=1.0")}},{key:"hideNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:0},{duration:300,complete:function(){e.nav.style.display="none"}})}},{key:"showNav",value:function(){var e=this;Velocity(this.nav,"finish"),Velocity(this.nav,{opacity:1},{duration:300,begin:function(){e.nav.style.display="block"}})}},{key:"hideLoader",value:function(){if(this.onResize(),!this.fired){this.fired=!0,this.nav=document.getElementById("fp-nav"),this.hideNav(),[].forEach.call(document.querySelectorAll(".slide__resizable, .slide__centred"),function(e){e.setAttribute("data-height",e.offsetHeight),e.setAttribute("data-width",e.offsetWidth)});var e=document.querySelector(".loader__wrapper"),t={opacity:0},i={duration:500,complete:function(){e.parentNode.removeChild(e)}};Velocity(e,t,i)}}},{key:"recountSlides",value:function(){var e=this;this.onResize();var t=document.querySelectorAll(".slide__resizable"),i=document.querySelector(".slide__centred"),s=document.querySelectorAll(".steps__step"),o=document.querySelector(".slide_service"),n=document.querySelector(".slide__illustration"),l=document.querySelector(".slide_main"),r=document.querySelector(".shema"),a=document.querySelector(".header").offsetHeight,d=document.querySelector(".footer").offsetHeight,c=(r.closest(".slide__details"),l.querySelector(".slide__phones")),h=l.querySelector(".slide__phone"),u=void 0,f=void 0,m=void 0,v=void 0,y=20,g=void 0,_=void 0,p=1,b=1,L=1,S=void 0,w=void 0,q=void 0,z=void 0,M=void 0,A=void 0,x=void 0,k=void 0,H=void 0,C=void 0,E=void 0,I=void 0,W=void 0,R=void 0;g=l.querySelector(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,S=l.querySelector(".slide__header"),l.style.backgroundSize="auto "+u+"px",f>750?(W=0,_=550):(W=100,_=480),v=u-W-S.offsetHeight,v>=200&&f>750?(c.style.height=Math.min(v,_)+"px",c.style.marginLeft=.1*-Math.min(v,_)+"px",c.style.visibility="visible"):200>v?c.style.visibility="hidden":c.removeAttribute("style"),750>=f&&(h.style.height=v+"px"),g=o.querySelector(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,S=o.querySelector(".slide__header"),H=Math.min(g.offsetHeight,parseInt(g.style.height,10))-S.offsetHeight-d-a,n.style.height=H+"px",C=700,E=570,I=1.2*f,R=E*I/C,H>R?(n.classList.toggle("slide__illustration_hidden",!1),n.style.backgroundPosition="50% 100%"):370>H?n.classList.toggle("slide__illustration_hidden",!0):(n.classList.toggle("slide__illustration_hidden",!1),n.style.backgroundPosition="50% 0"),i.removeAttribute("style"),[].forEach.call(s,function(e){e.removeAttribute("style")}),Math.max(document.documentElement.clientHeight,window.innerHeight||0)>480&&(w=i.closest(".slide"),g=i.closest(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,k=parseInt(i.getAttribute("data-height"),10),f>1220?(x=1230,z=170):f>750&&1220>=f?(x=1050,z=170):(x=400,k=900,z=0),v=u-a,m=f-40,b=v/k,L=m/x,p=Math.min(Math.min(b,L),1),M=0,A=0,750>f?(p=v/620,i.style[Modernizr.prefixed("transform")]="translateX(-50%) scale("+p+")"):(x>m&&(A=-(x-f)/2),1>p&&([].forEach.call(s,function(e){e.style[Modernizr.prefixed("transform")]="scale("+Math.min(1/p*.8,2)+")"}),A+=30),A+="px",i.style[Modernizr.prefixed("transform")]="translateX("+A+") translateY("+M+") scale("+p+")")),[].forEach.call(t,function(t){w=t.closest(".slide"),S=t.closest(".slide__details").querySelector(".slide__header"),g=t.closest(".fp-tableCell"),u=Math.min(g.offsetHeight,parseInt(g.style.height,10)),f=g.offsetWidth,k=parseInt(t.getAttribute("data-height"),10),x=parseInt(t.getAttribute("data-width"),10),b=v/k,L=m/x,p=Math.min(b,L),f>e.mobile?(v=u-a-y,m=f/2-40,b=v/k,L=m/x,p=Math.min(b,L),v<e.min_height?w.classList.add("slide_hide-resizable"):1>p?(w.classList.remove("slide_hide-resizable"),t.style[Modernizr.prefixed("transform")]="scale("+p+")",w.classList.contains("slide_right")?(q=parseInt(t.getAttribute("data-width"),10)*p,S.style.borderLeftWidth=q+"px",f>e.tablet&&(t.style.marginRight=S.offsetWidth/2-q+"px")):(q=parseInt(t.getAttribute("data-width"),10)*p,S.style.borderRightWidth=q+"px",f>e.tablet&&(t.style.marginLeft=S.offsetWidth/2-q+"px"))):(w.classList.remove("slide_hide-resizable"),t.removeAttribute("style"),S.removeAttribute("style"))):(v=u-a-S.offsetHeight-60,m=f-40,b=v/k,L=m/x,p=Math.min(b,L),x>m?t.style.marginLeft=-((x-m)/2-20)+"px":t.style.marginLeft="auto",200>v?(console.log("hidding"),w.classList.add("slide_hide-resizable")):1>p?(w.classList.remove("slide_hide-resizable"),t.style[Modernizr.prefixed("transform")]="scale("+p+")"):(w.classList.remove("slide_hide-resizable"),t.removeAttribute("style"),S.removeAttribute("style")))}),this.onResize()}},{key:"scrollToTop",value:function(e){e.preventDefault(),$.fn.fullpage.moveTo(1,0)}}]),e}();new e}();
"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function i(i,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(i,o.key,o)}}return function(e,n,o){return n&&i(e.prototype,n),o&&i(e,o),e}}();!function(){window.mobileAndTabletcheck=function(){var i=!1;return function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(i=!0)}(navigator.userAgent||navigator.vendor||window.opera),i},window.isMobile={Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},Windows:function(){return/IEMobile/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}};var i=function(){function i(){_classCallCheck(this,i);var e=new Promise(function(i,e){return"loading"!=document.readyState?i():void document.addEventListener("DOMContentLoaded",function(){return i()})});e.then(this.init.bind(this))}return _createClass(i,[{key:"init",value:function(){window.isMobile.Android()?document.body.parentNode.classList.add("android"):window.isMobile.iOS()?document.body.parentNode.classList.add("ios"):window.mobileAndTabletcheck()?document.body.parentNode.classList.add("unknown-mobile"):document.body.parentNode.classList.add("desktop")}}]),i}();new i}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}();!function(){var e=function(){function e(){_classCallCheck(this,e);var t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(this.init.bind(this))}return _createClass(e,[{key:"init",value:function(){var e=this;if(null!=document.querySelector(".login")){var t=document.querySelectorAll(".login__back"),o=document.querySelectorAll(".login__login-button, .login_success .login__submit"),i=document.querySelectorAll(".menu__interpreter, .header__interpreter");this.menu_popup_open=!1,this.login_button=document.querySelector(".menu__login"),this.register_button=document.querySelector(".menu__register"),this.step1=document.querySelector(".login_register-step-1"),this.step1_form=document.querySelector(".login_register-step-1 form.login__form"),this.step2=document.querySelector(".login_register-step-2"),this.step2_form=document.querySelector(".login_register-step-2 form.login__form"),this.login_form=document.querySelector(".login_login form.login__form"),this.mobile_popup=document.querySelector(".popup_mobile"),this.mobile_popup_close=this.mobile_popup.querySelector(".popup__close"),this.wrapper=document.querySelector(".menu__wrapper"),this.header_register_button=document.querySelector(".header__link_register"),this.header_login_button=document.querySelector(".header__link_login"),this.recovery_button=document.querySelector(".login__password-recovery"),this.lightbox=document.querySelector("body>.lightbox"),this.login_popup=document.querySelector(".login_login"),this.recovery=document.querySelector(".login_recovery"),this.password=document.querySelector(".login_password"),this.recovery_form=this.recovery.querySelector(".login__form"),this.password_form=this.password.querySelector(".login__form"),this.error_message=document.querySelector(".alert_form-send-fail"),this.email=document.querySelector(".login_email"),this.success=document.querySelector(".login_success"),this.current=document.querySelector(".login_open"),this.last=[],this.login_button.addEventListener("click",this.openLoginForm.bind(this)),this.recovery_button.addEventListener("click",this.openRecovery.bind(this)),this.lightbox.addEventListener("click",this.closeAll.bind(this)),this.register_button.addEventListener("click",this.openRegister.bind(this)),this.header_login_button.addEventListener("click",this.openLoginOuter.bind(this)),this.header_register_button.addEventListener("click",this.openRegisterOuter.bind(this)),this.mobile_popup_close.addEventListener("click",this.closeMobilePopup.bind(this)),this.recovery_form.addEventListener("submit",this.sendData.bind(this)),this.password_form.addEventListener("submit",this.sendData.bind(this)),this.step1_form.addEventListener("submit",this.openNext.bind(this)),this.step2_form.addEventListener("submit",this.sendData.bind(this)),this.login_form.addEventListener("submit",this.sendData.bind(this)),window.addEventListener("resize",this.reposPopup.bind(this)),$("select.language_from").select2(),$("select.language_to").select2(),$("select.language_location").select2(),this.language_from=document.querySelector(".language_from"),this.language_to=document.querySelector(".language_to"),this.language_location=document.querySelector(".language_location"),$(".login select.language_from").on("change",this.changeFromLanguage.bind(this)),[].forEach.call(document.querySelectorAll(".login"),function(e){e.style.visibility="visible"}),[].forEach.call(i,function(t){t.addEventListener("click",e.openMobilePopup.bind(e))}),[].forEach.call(t,function(t){t.addEventListener("click",e.goback.bind(e))}),[].forEach.call(o,function(t){t.addEventListener("click",e.openLoginInner.bind(e))}),this.WebRTCSupport=!document.documentElement.classList.contains("no-peerconnection"),this.WebRTCSupport||([].forEach.call(document.querySelectorAll("form.login__form input, form.login__form button, form.login__form select"),function(e){e.setAttribute("disabled","disabled")}),[].forEach.call(document.documentElement.querySelectorAll("form.login__form"),function(e){e.addEventListener("click",function(t){e.closest(".login").querySelector(".popup_browser").open()})}),[].forEach.call(document.querySelectorAll(".popup_browser"),function(t){e.showPopup(t)}))}}},{key:"changeFromLanguage",value:function(){var e=this.language_from.value,t=this.language_to.value;e===t&&(this.language_to.selectedIndex=0,$(this.language_to).select2("val","")),[].forEach.call(this.language_to.querySelectorAll("option[value][disabled]"),function(e){e.removeAttribute("disabled")}),[].forEach.call(this.language_to.querySelectorAll('option[value="'+e+'"]'),function(e){e.setAttribute("disabled","disabled")}),$(this.language_to).select2()}},{key:"openNext",value:function(e){e.preventDefault(),this.step1_data={from:$("select.language_from").select2("val"),to:$("select.language_to").select2("val"),location:$("select.language_location").select2("val")},0!=this.step1_form.validate()&&this.openForm(this.step2)}},{key:"reposPopup",value:function(e){this.menu_popup_open&&(this.mobile_popup.style[Modernizr.prefixed("transform")]="translateY("+this.mobile_popup.offsetHeight+"px)")}},{key:"closeMobilePopup",value:function(){var e=this;this.menu_popup_open&&(this.menu_popup_open=!1,Velocity(this.mobile_popup,"stop"),Velocity(this.mobile_popup,{translateY:0},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:1},{duration:250,begin:function(){e.mobile_popup_button.style.display="block"}}))}},{key:"openMobilePopup",value:function(){var e=this;this.menu_popup_open||(this.menu_popup_open=!0,Velocity(this.mobile_popup,"stop"),Velocity(this.mobile_popup,{translateY:this.mobile_popup.offsetHeight+"px"},250),Velocity(this.mobile_popup_button,"stop"),Velocity(this.mobile_popup_button,{opacity:0},{duration:250,complete:function(){e.mobile_popup_button.style.display="none"}}))}},{key:"showPopup",value:function(e){void 0!=e.show?e.show():setTimeout(this.showPopup.bind(this,e),50)}},{key:"openLoginOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.login_button.click()},800)}},{key:"openRegisterOuter",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.moveTo(1,0),setTimeout(function(){t.register_button.click()},800)}},{key:"sendData",value:function(e){var t=this;e.preventDefault();var o=e.currentTarget;if(0!=o.validate())try{!function(){var e=4,i=200,n=void 0,l=new XMLHttpRequest,s=void 0,r=new FormData(o);null!=t.step1_data&&(r.append("from",t.step1_data.from),r.append("to",t.step1_data.to),r.append("location",t.step1_data.location),t.step1_data=null),s=new Promise(function(n,s){l.open("POST",o.getAttribute("action")),l.send(r),l.onreadystatechange=function(){l.readyState===e&&(setTimeout(function(){t.clearAll()},500),l.status===i?n():s({code:parseInt(l.status,10),message:l.statusText}))}}),n=o.hasAttribute("data-success")?t.redirectTo.bind(t,o.getAttribute("data-success")):o.hasAttribute("data-check")?t.showCheckMessage.bind(t):t.showSuccessMessage.bind(t),s.then(n)["catch"](t.showErrorMessage.bind(t)),t.step1Data=null}()}catch(i){console.log("error: ",i)}}},{key:"redirectTo",value:function(e){document.location.href=e}},{key:"showCheckMessage",value:function(){this.openForm(this.email)}},{key:"showSuccessMessage",value:function(){this.last=new Array,this.openForm(this.success)}},{key:"openLoginInner",value:function(){this.openForm(this.login_popup)}},{key:"showErrorMessage",value:function(e){this.last=new Array,console.log(e.code,"Responce status code: "+e.code+". "+e.message+"."),this.error_message.open()}},{key:"goback",value:function(){this.openForm()}},{key:"emailHaveSend",value:function(){this.last=new Array,this.openForm(this.email)}},{key:"openRegisterInner",value:function(){this.openForm(this.step1)}},{key:"openRegister",value:function(){var e=this;$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var t={right:0},o={duration:250};Velocity(this.step1,t,o),this.current=this.step1,t={opacity:1},o={begin:function(){e.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,t,o)}},{key:"openRecovery",value:function(e){e.preventDefault(),this.WebRTCSupport&&this.openForm(this.recovery)}},{key:"openForm",value:function(e,t){$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);this.current.querySelector("form");if("undefined"==typeof e&&this.last.length>0)e=this.last.pop();else{if("undefined"==typeof e&&0==this.last.length)return void this.closeAll();1!=t&&this.last.push(this.current)}var o={right:-this.current.offsetWidth+"px"},i={duration:250};Velocity(this.current,o,i),o={right:0},i={duration:250},Velocity(e,o,i),this.current=e}},{key:"closeAll",value:function(){var e=this;$.fn.fullpage.setAllowScrolling(!0),$.fn.fullpage.setKeyboardScrolling(!0);var t={right:-this.current.offsetWidth+"px"},o={duration:250};Velocity(this.current,t,o),this.current=null,t={opacity:0},o={complete:function(){e.lightbox.style.display="none"},duration:250},Velocity(this.lightbox,t,o),setTimeout(function(){e.clearAll()},500)}},{key:"clearAll",value:function(){[].forEach.call(document.querySelectorAll("form"),function(e){e.clear()})}},{key:"openLoginForm",value:function(e){var t=this;e.preventDefault(),$.fn.fullpage.setAllowScrolling(!1),$.fn.fullpage.setKeyboardScrolling(!1);var o={right:0},i={duration:250};Velocity(this.login_popup,o,i),this.current=this.login_popup,o={opacity:1},i={begin:function(){t.lightbox.style.display="block"},duration:250},Velocity(this.lightbox,o,i)}}]),e}();new e}();
"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}();!function(){var t=function(){function t(e){_classCallCheck(this,t),this.popup=e,e.querySelector(".popup__close").addEventListener("click",this.close.bind(this)),this.popup.close=this.close.bind(this),this.popup.open=this.open.bind(this),this.popup.show=this.show.bind(this),this.status=!1,this.jamping=!1}return _createClass(t,[{key:"show",value:function(){this.popup.style.display="block",this.popup.style[Modernizr.prefixed("transform")]="rotateX(0)",this.status=!0}},{key:"hide",value:function(){this.popup.style.display="none",this.popup.style[Modernizr.prefixed("transform")]="rotateX(180deg)",this.status=!1,Velocity(this.popup,"stop")}},{key:"close",value:function(){var t=this;this.jamping||this.status&&(Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"120deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!1}}))}},{key:"open",value:function(){var t=this;if(!this.jamping){if(this.status)return void this.jump();this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"0deg"},{duration:500,begin:function(){t.popup.style.display="block"},complete:function(){t.status=!0}}),Velocity(this.popup,{rotateX:"20deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"10deg"},200),Velocity(this.popup,{rotateX:"0deg"},{duration:175,complete:function(){t.jamping=!1}})}}},{key:"jump",value:function(){var t=this;this.jamping=!0,Velocity(this.popup,"finish"),Velocity(this.popup,{rotateX:"35deg"},150),Velocity(this.popup,{rotateX:"0deg"},125),Velocity(this.popup,{rotateX:"20deg"},200),Velocity(this.popup,{rotateX:"0deg"},175),Velocity(this.popup,{rotateX:"15deg"},250),Velocity(this.popup,{rotateX:"0deg"},{duration:225,complete:function(){t.jamping=!1}})}}]),t}(),e=new Promise(function(t,e){return"loading"!=document.readyState?t():void document.addEventListener("DOMContentLoaded",function(){return t()})});e.then(function(){[].forEach.call(document.querySelectorAll(".popup_browser"),function(e){new t(e)}),[].forEach.call(document.querySelectorAll(".popup_common"),function(e){new t(e),e.classList.contains("popup_open")&&e.open()})})}();
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}();!function(){var e=function(){function e(t){_classCallCheck(this,e),this.form=t,t.setAttribute("novalidate","novalidate"),t.addEventListener("submit",this.validate.bind(this)),t.validate=this.validate.bind(this),t.clear=this.clear.bind(this),this.messages={en:{required:"Required field",email:"Wrong email format",equal:"Password fields should be equal",unequal:"Languages shouldn't be equal",url:"Wrong url format"},ru:{required:"Поле обязательно для заполнения",email:"Проверьте формат email",equal:"Пароли должны совпадать",unequal:"Языки не должны совпадать",url:"Проверьте формат URL"}}}return _createClass(e,[{key:"clear",value:function(){for(var e=$(this.form).find("select"),t=e.length;t--;)null!=typeof e[t].select2?$(e[t]).select2("val",""):e[t].selectedIndex=0,[].forEach.call(e[t].querySelectorAll("option[value][disabled]"),function(e){e.removeAttribute("disabled")});this.form.reset(),setTimeout(function(){var e=document.querySelectorAll(".form-error"),t=document.querySelectorAll("[data-valid], [data-invalid]");[].forEach.call(e,function(e){e.parentNode.removeChild(e)}),[].forEach.call(t,function(e){e.removeAttribute("data-invalid"),e.removeAttribute("data-valid")})},100)}},{key:"addError",value:function(e,t,r){if(null==e.parentNode.querySelector('.form-error[data-type="'+r+'"]')){var a=document.createElement("P");a.appendChild(document.createTextNode(t)),a.classList.add("form-error"),a.setAttribute("data-type",r),e.parentNode.appendChild(a)}}},{key:"clearError",value:function(e,t){var r=e.parentNode.querySelector('.form-error[data-type="'+t+'"]');null!=r&&e.parentNode.removeChild(r)}},{key:"validate",value:function(e){var t=this;"undefined"==typeof e||e.currentTarget.hasAttribute("data-reload")||e.preventDefault();var r=!0,a=this.form.querySelectorAll("[data-equal]"),l=this.form.querySelectorAll("[data-unequal]"),o=this.form.querySelectorAll("[required]"),n=this.form.querySelectorAll('input[type="url"]'),i=this.form.querySelectorAll('input[type="email"]'),u=new RegExp("^(http|https|ftp)://([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[1-9]|0).(25[0-5]|2[0-4][0-9]|[0-1]{1}[0-9]{2}|[1-9]{1}[0-9]{1}|[0-9])|([a-zA-Z0-9-]+.)*[a-zA-Z0-9-]+.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]{2}))(:[0-9]+)*(/($|[a-zA-Z0-9.,?'\\+&amp;%$#=~_-]+))*$","i"),d=new RegExp("^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-])+.)+([a-zA-Z0-9]{2,4})+$");[].forEach.call(a,function(e){var a=t.form.querySelector(e.getAttribute("data-equal"));e.value.trim()!=a.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].equal,"equal")):t.clearError(e,"equal")}),[].forEach.call(l,function(e){var a=t.form.querySelector(e.getAttribute("data-unequal"));e.options[e.selectedIndex].value.trim()==a.options[a.selectedIndex].value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].unequal,"unequal")):t.clearError(e,"unequal")}),[].forEach.call(o,function(e){""===e.value.trim()?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].required,"required")):t.clearError(e,"required")}),[].forEach.call(n,function(e){e.value.trim().length>0&&u.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].url,"url")):t.clearError(e,"url")}),[].forEach.call(i,function(e){e.value.trim().length>0&&d.test(e.value.trim())===!1?(r=!1,t.addError(e,t.messages[document.body.parentNode.getAttribute("lang")].email,"email")):t.clearError(e,"email")});var c=Array.prototype.slice.call(a).concat(Array.prototype.slice.call(o),Array.prototype.slice.call(n),Array.prototype.slice.call(i));[].forEach.call(c,function(e){var t=e.parentNode.querySelector(".form-error");if(null!=t){var r=document.createAttribute("data-invalid");r.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(r),e.nextSibling.removeAttribute("data-valid")):(e.setAttributeNode(r),e.removeAttribute("data-valid"))}else{var a=document.createAttribute("data-valid");a.value=!0,"SELECT"==e.tagName?(e.nextSibling.setAttributeNode(a),e.nextSibling.removeAttribute("data-invalid")):(e.setAttributeNode(a),e.removeAttribute("data-invalid"))}});var s=this.form.querySelectorAll(".form_error").length;return s>0&&(r=!1),r===!1&&"undefined"!=typeof e&&e.preventDefault(),r}}]),e}(),t=new Promise(function(e,t){return"loading"!=document.readyState?e():void document.addEventListener("DOMContentLoaded",function(){return e()})});t.then(function(){var t=document.querySelectorAll("form");[].forEach.call(t,function(t){new e(t)})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsZXJ0L2FsZXJ0LmpzIiwiY29udGFjdC9jb250YWN0cy5qcyIsImxhbmRpbmcvbGFuZGluZy5qcyIsImxheW91dC9sYXlvdXQuanMiLCJsb2dpbi9sb2dpbi5qcyIsInBvcHVwL3BvcHVwLmpzIiwidmFsaWRhdG9yL3ZhbGlkYXRpb24uanMiXSwibmFtZXMiOlsiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImkiLCJsZW5ndGgiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJrZXkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJwcm90b3R5cGUiLCJBbGVydCIsImFsZXJ0IiwidGhpcyIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xvc2UiLCJiaW5kIiwib3BlbiIsInN0YXR1cyIsInZhbHVlIiwiX3RoaXMiLCJWZWxvY2l0eSIsInRyYW5zbGF0ZVkiLCJkdXJhdGlvbiIsImNvbXBsZXRlIiwiX3RoaXMyIiwib2Zmc2V0SGVpZ2h0IiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImRvY3VtZW50IiwicmVhZHlTdGF0ZSIsInRoZW4iLCJmb3JFYWNoIiwiY2FsbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsIkNvbnRhY3RzIiwiaW5pdCIsIm1hcCIsInN0eWxlIiwiaGVpZ2h0IiwiTWF0aCIsIm1heCIsImRvY3VtZW50RWxlbWVudCIsImNsaWVudEhlaWdodCIsIndpbmRvdyIsImlubmVySGVpZ2h0IiwicmVzaXplIiwiTGFuZGdpbmciLCJmaXJlZCIsInRhYmxldCIsIm1vYmlsZSIsIm1pbl9oZWlnaHQiLCJtZXRhIiwib25SZXNpemUiLCJoZWFkZXIiLCJjbG9jayIsInJlcXVlc3RBbmltRnJhbWUiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCIkIiwiZnVsbHBhZ2UiLCJzZWN0aW9uU2VsZWN0b3IiLCJuYXZpZ2F0aW9uIiwiYWZ0ZXJMb2FkIiwiaGlkZUxvYWRlciIsImFmdGVyUmVuZGVyIiwicmVjb3VudFNsaWRlcyIsImFmdGVyUmVzaXplIiwib25MZWF2ZSIsImluZGV4IiwibmV4dEluZGV4IiwiZGlyZWN0aW9uIiwidG9nZ2xlIiwiaGlkZU5hdiIsInNob3dOYXYiLCJzY3JvbGxUb1RvcCIsImFjdGl2ZSIsInNldFRpbWVvdXQiLCJjbGllbnRXaWR0aCIsImlubmVyV2lkdGgiLCJzZXRBdHRyaWJ1dGUiLCJuYXYiLCJvcGFjaXR5IiwiZGlzcGxheSIsIl90aGlzMyIsImJlZ2luIiwiZ2V0RWxlbWVudEJ5SWQiLCJyZXNpemFibGUiLCJvZmZzZXRXaWR0aCIsImxvYWRlciIsIm9wdGlvbnMiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJfdGhpczQiLCJyZXNpemFibGVzIiwiY2VudHJlZCIsInN0ZXBzIiwic2VydmljZV9zbGlkZSIsInNlcnZpY2VfaWxsdXN0cmF0aW9uIiwibWFpbiIsInNoZW1hIiwiaGVhZGVyX2hlaWdodCIsImZvb3Rlcl9oZWlnaHQiLCJwaG9uZXMiLCJjbG9zZXN0IiwicGhvbmUiLCJ2aWV3cG9ydF9oZWlnaHQiLCJ1bmRlZmluZWQiLCJ2aWV3cG9ydF93aWR0aCIsImF2YWlsYWJhbGVfd2lkdGgiLCJhdmFpbGFiYWxlX2hlaWdodCIsImRlbHRhIiwiY2VsbCIsInNpemUiLCJzY2FsZSIsInNjYWxlX3giLCJzY2FsZV95Iiwic2xpZGUiLCJib3JkZXJfd2lkdGgiLCJkZWx0YV95IiwidHJfeSIsInRyX3giLCJlbGVtZW50X3dpZHRoIiwiZWxlbWVudF9oZWlnaHQiLCJpbGx1c3RyYXRpb25faGVpZ2h0Iiwid193aWR0aCIsIndfaGVpZ2h0IiwiaV93aWR0aCIsImRlbCIsImlfaGVpZ2h0IiwibWluIiwicGFyc2VJbnQiLCJiYWNrZ3JvdW5kU2l6ZSIsIm1hcmdpbkxlZnQiLCJ2aXNpYmlsaXR5IiwicmVtb3ZlQXR0cmlidXRlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwic3RlcCIsImdldEF0dHJpYnV0ZSIsIk1vZGVybml6ciIsInByZWZpeGVkIiwiYWRkIiwicmVtb3ZlIiwiYm9yZGVyTGVmdFdpZHRoIiwibWFyZ2luUmlnaHQiLCJib3JkZXJSaWdodFdpZHRoIiwiY29uc29sZSIsImxvZyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJmbiIsIm1vdmVUbyIsIm1vYmlsZUFuZFRhYmxldGNoZWNrIiwiY2hlY2siLCJhIiwidGVzdCIsInN1YnN0ciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInZlbmRvciIsIm9wZXJhIiwiaXNNb2JpbGUiLCJBbmRyb2lkIiwiQmxhY2tCZXJyeSIsImlPUyIsIldpbmRvd3MiLCJhbnkiLCJMYXlvdXQiLCJib2R5IiwiTWVudSIsImJhY2tfYnV0dG9ucyIsImxvZ2luX2J1dHRvbnMiLCJtb2JpbGVfcG9wdXBfYnV0dG9ucyIsIm1lbnVfcG9wdXBfb3BlbiIsImxvZ2luX2J1dHRvbiIsInJlZ2lzdGVyX2J1dHRvbiIsInN0ZXAxIiwic3RlcDFfZm9ybSIsInN0ZXAyIiwic3RlcDJfZm9ybSIsImxvZ2luX2Zvcm0iLCJtb2JpbGVfcG9wdXAiLCJtb2JpbGVfcG9wdXBfY2xvc2UiLCJ3cmFwcGVyIiwiaGVhZGVyX3JlZ2lzdGVyX2J1dHRvbiIsImhlYWRlcl9sb2dpbl9idXR0b24iLCJyZWNvdmVyeV9idXR0b24iLCJsaWdodGJveCIsImxvZ2luX3BvcHVwIiwicmVjb3ZlcnkiLCJwYXNzd29yZCIsInJlY292ZXJ5X2Zvcm0iLCJwYXNzd29yZF9mb3JtIiwiZXJyb3JfbWVzc2FnZSIsImVtYWlsIiwic3VjY2VzcyIsImN1cnJlbnQiLCJsYXN0Iiwib3BlbkxvZ2luRm9ybSIsIm9wZW5SZWNvdmVyeSIsImNsb3NlQWxsIiwib3BlblJlZ2lzdGVyIiwib3BlbkxvZ2luT3V0ZXIiLCJvcGVuUmVnaXN0ZXJPdXRlciIsImNsb3NlTW9iaWxlUG9wdXAiLCJzZW5kRGF0YSIsIm9wZW5OZXh0IiwicmVwb3NQb3B1cCIsInNlbGVjdDIiLCJsYW5ndWFnZV9mcm9tIiwibGFuZ3VhZ2VfdG8iLCJsYW5ndWFnZV9sb2NhdGlvbiIsIm9uIiwiY2hhbmdlRnJvbUxhbmd1YWdlIiwiZWxlbWVudCIsImJ1dHRvbiIsIm9wZW5Nb2JpbGVQb3B1cCIsImdvYmFjayIsIm9wZW5Mb2dpbklubmVyIiwiV2ViUlRDU3VwcG9ydCIsImZvcm0iLCJwb3B1cCIsInNob3dQb3B1cCIsInZhbHVlX2Zyb20iLCJ2YWx1ZV90byIsInNlbGVjdGVkSW5kZXgiLCJ0b19lbmFibGUiLCJ0b19kaXNhYmxlIiwic3RlcDFfZGF0YSIsImZyb20iLCJ0byIsImxvY2F0aW9uIiwidmFsaWRhdGUiLCJvcGVuRm9ybSIsIm1vYmlsZV9wb3B1cF9idXR0b24iLCJzaG93IiwiY2xpY2siLCJfdGhpczUiLCJfdGhpczYiLCJjdXJyZW50VGFyZ2V0IiwiRE9ORSIsIk9LIiwiYWZ0ZXJfYWN0aW9uIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJsb2FkZWQiLCJkYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJzZW5kIiwib25yZWFkeXN0YXRlY2hhbmdlIiwiY2xlYXJBbGwiLCJjb2RlIiwibWVzc2FnZSIsInN0YXR1c1RleHQiLCJoYXNBdHRyaWJ1dGUiLCJyZWRpcmVjdFRvIiwic2hvd0NoZWNrTWVzc2FnZSIsInNob3dTdWNjZXNzTWVzc2FnZSIsInNob3dFcnJvck1lc3NhZ2UiLCJzdGVwMURhdGEiLCJlcnIiLCJ1cmwiLCJocmVmIiwiQXJyYXkiLCJyZWFzb24iLCJfdGhpczciLCJzZXRBbGxvd1Njcm9sbGluZyIsInNldEtleWJvYXJkU2Nyb2xsaW5nIiwicmlnaHQiLCJkb250X3NhdmUiLCJwb3AiLCJwdXNoIiwiX3RoaXM4IiwiY2xlYXIiLCJfdGhpczkiLCJQb3B1cCIsImphbXBpbmciLCJyb3RhdGVYIiwianVtcCIsIlZhbGlkYXRpb24iLCJtZXNzYWdlcyIsImVuIiwicmVxdWlyZWQiLCJlcXVhbCIsInVuZXF1YWwiLCJydSIsInNlbGVjdHMiLCJmaW5kIiwib3B0aW9uIiwicmVzZXQiLCJlcnJvcnMiLCJmaWVsZHMiLCJlcnJvciIsImZpZWxkIiwidHlwZSIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwidmFsaWQiLCJlcXVhbF9maWVsZHMiLCJ1bmVxdWFsX2ZpZWxkcyIsInJlcXVpcmVkX2ZpZWxkcyIsInVybF9maWVsZHMiLCJlbWFpbF9maWVsZHMiLCJ1cmxfcmVnZXgiLCJSZWdFeHAiLCJlbWFpbF9yZWdleCIsInRyaW0iLCJhZGRFcnJvciIsImNsZWFyRXJyb3IiLCJhbGxfZmllbGRzIiwic2xpY2UiLCJjb25jYXQiLCJpbnZhbGlkIiwiY3JlYXRlQXR0cmlidXRlIiwidGFnTmFtZSIsIm5leHRTaWJsaW5nIiwic2V0QXR0cmlidXRlTm9kZSIsIl92YWxpZCIsImVycm9yc19jb3VudCIsImZvcm1zIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUlBLFNBQVNBLGlCQUFnQkMsRUFBVUMsR0FBZSxLQUFNRCxZQUFvQkMsSUFBZ0IsS0FBTSxJQUFJQyxXQUFVLHFDQUZoSCxHQUFJQyxjQUFlLFdBQWUsUUFBU0MsR0FBaUJDLEVBQVFDLEdBQVMsSUFBSyxHQUFJQyxHQUFJLEVBQUdBLEVBQUlELEVBQU1FLE9BQVFELElBQUssQ0FBRSxHQUFJRSxHQUFhSCxFQUFNQyxFQUFJRSxHQUFXQyxXQUFhRCxFQUFXQyxhQUFjLEVBQU9ELEVBQVdFLGNBQWUsRUFBVSxTQUFXRixLQUFZQSxFQUFXRyxVQUFXLEdBQU1DLE9BQU9DLGVBQWVULEVBQVFJLEVBQVdNLElBQUtOLElBQWlCLE1BQU8sVUFBVVIsRUFBYWUsRUFBWUMsR0FBaUosTUFBOUhELElBQVlaLEVBQWlCSCxFQUFZaUIsVUFBV0YsR0FBaUJDLEdBQWFiLEVBQWlCSCxFQUFhZ0IsR0FBcUJoQixPQURqaUIsV0FXSSxH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RXpCLENBRUgsR0FBSXdMLEdBQVFuUyxTQUFTK1IsZ0JBQWdCLGFBQ3JDSSxHQUFNL1MsT0FBUSxFQUNTLFVBQW5Cc00sRUFBUXNHLFNBQ1J0RyxFQUFRdUcsWUFBWUMsaUJBQWlCQyxHQUNyQ3pHLEVBQVF1RyxZQUFZdEwsZ0JBQWdCLGtCQUVwQytFLEVBQVF3RyxpQkFBaUJDLEdBQ3pCekcsRUFBUS9FLGdCQUFnQixtQkFLcEMsSUFBSXlMLEdBQWV2VCxLQUFLbU4sS0FBSzNMLGlCQUFpQixlQUFlckMsTUFXN0QsT0FWSW9VLEdBQWUsSUFDZnJCLEdBQVEsR0FHUkEsS0FBVSxHQUNVLG1CQUFUdkosSUFDUEEsRUFBTUMsaUJBSVBzSixNQXpOVG5CLEtBK05GaFEsRUFBUSxHQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBQzlCLE1BQTJCLFdBQXZCQyxTQUFTQyxXQUFnQ0gsUUFDN0NFLFVBQVNqQixpQkFBaUIsbUJBQW9CLFdBYzFDLE1BZGdEZSxRQUd4REYsR0FBTU0sS0FBSyxXQUNQLEdBQUltUyxHQUFRclMsU0FBU0ssaUJBQWlCLFdBQ25DRixRQUFRQyxLQUFLaVMsRUFBTyxTQUFDckcsR0FDcEIsR0FBSTRELEdBQVc1RCIsImZpbGUiOiJzY3JpcHRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4oZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzIFBvcHVwXG4gICAgICovXG4gICAgY2xhc3MgQWxlcnQge1xuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFkZGluZyBldmVudHMgYW5kIHByb3BlcnRpZXNcbiAgICAgICAgICogQGNvbnN0cnVjdG9yXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvciAoYWxlcnQpIHtcbiAgICAgICAgICAgIHRoaXMuYWxlcnQgPSBhbGVydDtcbiAgICAgICAgICAgIHRoaXMuYWxlcnQucXVlcnlTZWxlY3RvcignLmFsZXJ0X19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuYWxlcnQuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLmFsZXJ0Lm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZSAoKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5hbGVydCwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmFsZXJ0LCB7XG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlWTogMFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wZW4gKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmFsZXJ0LCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuYWxlcnQsIHtcbiAgICAgICAgICAgICAgICB0cmFuc2xhdGVZOiB0aGlzLmFsZXJ0Lm9mZnNldEhlaWdodCArIFwicHhcIlxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk9PntcbiAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpPT4gcmVzb2x2ZSgpKTtcbiAgICB9KTtcblxuICAgIHJlYWR5LnRoZW4oKCk9PntcbiAgICAgICAgW10uZm9yRWFjaC5jYWxsKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5hbGVydCcpLCAoYWxlcnQpID0+IHtcbiAgICAgICAgICAgIG5ldyBBbGVydChhbGVydCk7XG4gICAgICAgICAgICBpZiAoYWxlcnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhbGVydF9vcGVuJykpe1xuICAgICAgICAgICAgICAgIGFsZXJ0Lm9wZW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpIHtcbiAgICBjbGFzcyBDb250YWN0cyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgdGhpcy5tYXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fbWFwJyk7XG4gICAgICAgICAgICBpZih0aGlzLm1hcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApIC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX3dyYXBwZXInKS5vZmZzZXRIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyJykub2Zmc2V0SGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCAtIDUyICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLnJlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJlc2l6ZSAoKSB7XG4gICAgICAgICAgICBpZih0aGlzLm1hcCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXAuc3R5bGUuaGVpZ2h0ID0gTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApIC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX3dyYXBwZXInKS5vZmZzZXRIZWlnaHQgLSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyJykub2Zmc2V0SGVpZ2h0IC0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodCAtIDUyICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIG5ldyBDb250YWN0cztcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpIHtcbiAgICBjbGFzcyBMYW5kZ2luZyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0KCkge1xuXG4gICAgICAgICAgICBpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubGFuZGluZycpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZmlyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMudGFibGV0ID0gMTIwMDtcbiAgICAgICAgICAgIHRoaXMubW9iaWxlID0gNzUwO1xuICAgICAgICAgICAgdGhpcy5taW5faGVpZ2h0ID0gMjUwO1xuICAgICAgICAgICAgdGhpcy5tZXRhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIm1ldGFbbmFtZT0ndmlld3BvcnQnXVwiKTtcblxuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgICAgICAgICBsZXQgaGVhZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpXG4gICAgICAgICAgICAgICAgLCBjbG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9jaycpXG4gICAgICAgICAgICAgICAgLCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlX21haW4nKTtcblxuICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuICAgICAgICAgICAgJChcIi5sYW5kaW5nXCIpLmZ1bGxwYWdlKHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uU2VsZWN0b3I6IFwiLmxhbmRpbmdfX3NlY3Rpb25cIixcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGFmdGVyTG9hZDogdGhpcy5oaWRlTG9hZGVyLmJpbmQodGhpcyksXG4gICAgICAgICAgICAgICAgYWZ0ZXJSZW5kZXI6IHRoaXMucmVjb3VudFNsaWRlcy5iaW5kKHRoaXMpLFxuICAgICAgICAgICAgICAgIGFmdGVyUmVzaXplOiB0aGlzLnJlY291bnRTbGlkZXMuYmluZCh0aGlzKSxcbiAgICAgICAgICAgICAgICBvbkxlYXZlOiAoaW5kZXgsIG5leHRJbmRleCwgZGlyZWN0aW9uKSA9PiB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRJbmRleCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGVhZGVyX29wZW4nLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGVOYXYoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc0xpc3QudG9nZ2xlKCdoZWFkZXJfb3BlbicsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93TmF2KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dEluZGV4ID09IDYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb2NrLmNsYXNzTGlzdC50b2dnbGUoJ2Nsb2NrX3Zpc2libGUnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsb2NrLmNsYXNzTGlzdC50b2dnbGUoJ2Nsb2NrX3Zpc2libGUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9vdGVyX190b3BcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuc2Nyb2xsVG9Ub3AuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICBsZXQgYWN0aXZlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmRpbmdfX3NlY3Rpb24uYWN0aXZlJyk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlX21vbWVudCcsIHRydWUpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZS5jbGFzc0xpc3QudG9nZ2xlKCdhY3RpdmUnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmUuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlX21vbWVudCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScsIHRydWUpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICBvblJlc2l6ZSAoKSB7XG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsIHdpbmRvdy5pbm5lckhlaWdodCB8fCAwKSA+IDQyMCApXG4gICAgICAgICAgICAgICAgJiYgKE1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCwgd2luZG93LmlubmVyV2lkdGggfHwgMCkgPCA1MDApXG4gICAgICAgICAgICApe1xuICAgICAgICAgICAgICAgIHRoaXMubWV0YS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIsIFwid2lkdGg9NDAwXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1ldGEuc2V0QXR0cmlidXRlKFwiY29udGVudFwiLCBcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBoaWRlTmF2ICgpIHtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubmF2LCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubmF2LCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAzMDBcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXYuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd05hdiAoKSB7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm5hdiwgXCJmaW5pc2hcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm5hdiwge1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMzAwXG4gICAgICAgICAgICAgICAgLCBiZWdpbjogKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF2LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBoaWRlTG9hZGVyKCkge1xuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuZmlyZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubmF2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZwLW5hdicpO1xuICAgICAgICAgICAgdGhpcy5oaWRlTmF2KCk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVfX3Jlc2l6YWJsZSwgLnNsaWRlX19jZW50cmVkJyksIChyZXNpemFibGUpID0+IHtcbiAgICAgICAgICAgICAgICByZXNpemFibGUuc2V0QXR0cmlidXRlKCdkYXRhLWhlaWdodCcsIHJlc2l6YWJsZS5vZmZzZXRIZWlnaHQpO1xuICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkdGgnLCByZXNpemFibGUub2Zmc2V0V2lkdGgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9hZGVyX193cmFwcGVyJyksXG4gICAgICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAsXG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsb2FkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChsb2FkZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgVmVsb2NpdHkobG9hZGVyLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIHJlY291bnRTbGlkZXMoKSB7XG5cbiAgICAgICAgICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgICAgICAgICAgbGV0IHJlc2l6YWJsZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVfX3Jlc2l6YWJsZScpXG4gICAgICAgICAgICAgICAgLCBjZW50cmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlX19jZW50cmVkJylcbiAgICAgICAgICAgICAgICAsIHN0ZXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0ZXBzX19zdGVwJylcbiAgICAgICAgICAgICAgICAsIHNlcnZpY2Vfc2xpZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfc2VydmljZScpXG4gICAgICAgICAgICAgICAgLCBzZXJ2aWNlX2lsbHVzdHJhdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9faWxsdXN0cmF0aW9uJylcbiAgICAgICAgICAgICAgICAsIG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfbWFpbicpXG4gICAgICAgICAgICAgICAgLCBzaGVtYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zaGVtYScpXG4gICAgICAgICAgICAgICAgLCBoZWFkZXJfaGVpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcicpLm9mZnNldEhlaWdodFxuICAgICAgICAgICAgICAgICwgZm9vdGVyX2hlaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb290ZXInKS5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgICAsIHNoZW1hX2RldGFpbHMgPSBzaGVtYS5jbG9zZXN0KCcuc2xpZGVfX2RldGFpbHMnKVxuICAgICAgICAgICAgICAgICwgcGhvbmVzID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcuc2xpZGVfX3Bob25lcycpXG4gICAgICAgICAgICAgICAgLCBwaG9uZSA9IG1haW4ucXVlcnlTZWxlY3RvcignLnNsaWRlX19waG9uZScpXG4gICAgICAgICAgICAgICAgLCB2aWV3cG9ydF9oZWlnaHRcbiAgICAgICAgICAgICAgICAsIHZpZXdwb3J0X3dpZHRoXG4gICAgICAgICAgICAgICAgLCBhdmFpbGFiYWxlX3dpZHRoXG4gICAgICAgICAgICAgICAgLCBhdmFpbGFiYWxlX2hlaWdodFxuICAgICAgICAgICAgICAgICwgZGVsdGEgPSAyMFxuICAgICAgICAgICAgICAgICwgY2VsbFxuICAgICAgICAgICAgICAgICwgc2l6ZVxuICAgICAgICAgICAgICAgICwgc2NhbGUgPSAxXG4gICAgICAgICAgICAgICAgLCBzY2FsZV94ID0gMVxuICAgICAgICAgICAgICAgICwgc2NhbGVfeSA9IDFcbiAgICAgICAgICAgICAgICAsIGhlYWRlclxuICAgICAgICAgICAgICAgICwgc2xpZGVcbiAgICAgICAgICAgICAgICAsIGJvcmRlcl93aWR0aFxuICAgICAgICAgICAgICAgICwgZGVsdGFfeVxuICAgICAgICAgICAgICAgICwgdHJfeVxuICAgICAgICAgICAgICAgICwgdHJfeFxuICAgICAgICAgICAgICAgICwgZWxlbWVudF93aWR0aFxuICAgICAgICAgICAgICAgICwgZWxlbWVudF9oZWlnaHRcbiAgICAgICAgICAgICAgICAsIGlsbHVzdHJhdGlvbl9oZWlnaHRcbiAgICAgICAgICAgICAgICAsIHdfd2lkdGhcbiAgICAgICAgICAgICAgICAsIHdfaGVpZ2h0XG4gICAgICAgICAgICAgICAgLCBpX3dpZHRoXG4gICAgICAgICAgICAgICAgLCBkZWxcbiAgICAgICAgICAgICAgICAsIGlfaGVpZ2h0O1xuXG4gICAgICAgICAgICBjZWxsID0gbWFpbi5xdWVyeVNlbGVjdG9yKCcuZnAtdGFibGVDZWxsJyk7XG4gICAgICAgICAgICB2aWV3cG9ydF9oZWlnaHQgPSBNYXRoLm1pbihjZWxsLm9mZnNldEhlaWdodCwgcGFyc2VJbnQoY2VsbC5zdHlsZS5oZWlnaHQsIDEwKSk7XG4gICAgICAgICAgICB2aWV3cG9ydF93aWR0aCA9IGNlbGwub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgIGhlYWRlciA9IG1haW4ucXVlcnlTZWxlY3RvcignLnNsaWRlX19oZWFkZXInKTtcbiAgICAgICAgICAgIG1haW4uc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImF1dG8gXCIgKyB2aWV3cG9ydF9oZWlnaHQgKyBcInB4XCI7XG5cbiAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IDc1MCkge1xuICAgICAgICAgICAgICAgIGRlbCA9IDA7XG4gICAgICAgICAgICAgICAgc2l6ZSA9IDU1MDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsID0gMTAwO1xuICAgICAgICAgICAgICAgIHNpemUgPSA0ODA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdmFpbGFiYWxlX2hlaWdodCA9IHZpZXdwb3J0X2hlaWdodCAtIGRlbCAtIGhlYWRlci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICAgICAoYXZhaWxhYmFsZV9oZWlnaHQgPj0gMjAwKVxuICAgICAgICAgICAgICAgICYmICh2aWV3cG9ydF93aWR0aCA+IDc1MClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHBob25lcy5zdHlsZS5oZWlnaHQgPSBNYXRoLm1pbihhdmFpbGFiYWxlX2hlaWdodCwgc2l6ZSkgKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgcGhvbmVzLnN0eWxlLm1hcmdpbkxlZnQgPSAtTWF0aC5taW4oYXZhaWxhYmFsZV9oZWlnaHQsIHNpemUpKjAuMSArIFwicHhcIjtcbiAgICAgICAgICAgICAgICBwaG9uZXMuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhdmFpbGFiYWxlX2hlaWdodCA8IDIwMCApIHtcbiAgICAgICAgICAgICAgICBwaG9uZXMuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBob25lcy5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgaWYgKHZpZXdwb3J0X3dpZHRoIDw9IDc1MCkge1xuICAgICAgICAgICAgICAgIHBob25lLnN0eWxlLmhlaWdodCA9IGF2YWlsYWJhbGVfaGVpZ2h0ICsgXCJweFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjZWxsID0gc2VydmljZV9zbGlkZS5xdWVyeVNlbGVjdG9yKCcuZnAtdGFibGVDZWxsJyk7XG4gICAgICAgICAgICB2aWV3cG9ydF9oZWlnaHQgPSBNYXRoLm1pbihjZWxsLm9mZnNldEhlaWdodCwgcGFyc2VJbnQoY2VsbC5zdHlsZS5oZWlnaHQsIDEwKSk7XG4gICAgICAgICAgICB2aWV3cG9ydF93aWR0aCA9IGNlbGwub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICBoZWFkZXIgPSBzZXJ2aWNlX3NsaWRlLnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZV9faGVhZGVyJyk7XG4gICAgICAgICAgICBpbGx1c3RyYXRpb25faGVpZ2h0ID0gKE1hdGgubWluKGNlbGwub2Zmc2V0SGVpZ2h0LCBwYXJzZUludChjZWxsLnN0eWxlLmhlaWdodCwgMTApKSAtIGhlYWRlci5vZmZzZXRIZWlnaHQgLSBmb290ZXJfaGVpZ2h0IC0gaGVhZGVyX2hlaWdodCk7XG4gICAgICAgICAgICBzZXJ2aWNlX2lsbHVzdHJhdGlvbi5zdHlsZS5oZWlnaHQgPSBpbGx1c3RyYXRpb25faGVpZ2h0ICsgXCJweFwiO1xuXG4gICAgICAgICAgICB3X3dpZHRoID0gNzAwO1xuICAgICAgICAgICAgd19oZWlnaHQgPSA1NzA7XG4gICAgICAgICAgICBpX3dpZHRoID0gdmlld3BvcnRfd2lkdGgqMS4yO1xuICAgICAgICAgICAgaV9oZWlnaHQgPSB3X2hlaWdodCppX3dpZHRoL3dfd2lkdGg7XG5cbiAgICAgICAgICAgIGlmIChpX2hlaWdodCA8IGlsbHVzdHJhdGlvbl9oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX2lsbHVzdHJhdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdzbGlkZV9faWxsdXN0cmF0aW9uX2hpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX2lsbHVzdHJhdGlvbi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBcIjUwJSAxMDAlXCI7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlsbHVzdHJhdGlvbl9oZWlnaHQgPCAzNzApIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX2lsbHVzdHJhdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdzbGlkZV9faWxsdXN0cmF0aW9uX2hpZGRlbicsIHRydWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX2lsbHVzdHJhdGlvbi5jbGFzc0xpc3QudG9nZ2xlKCdzbGlkZV9faWxsdXN0cmF0aW9uX2hpZGRlbicsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzZXJ2aWNlX2lsbHVzdHJhdGlvbi5zdHlsZS5iYWNrZ3JvdW5kUG9zaXRpb24gPSBcIjUwJSAwXCI7XG4gICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgLy8gQ2VudHJlZCBzdHlsZVxuXG4gICAgICAgICAgICAvLyDQp9C40YHRgtC40Lwg0LLRgdC1INGB0YLQuNC70Lgg0L/RgNC40LLQvdC10YHQtdC90L3Ri9C1XG4gICAgICAgICAgICBjZW50cmVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChzdGVwcywgKHN0ZXApID0+IHtcbiAgICAgICAgICAgICAgICBzdGVwLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCwgd2luZG93LmlubmVySGVpZ2h0IHx8IDApID4gNDgwICkge1xuXG4gICAgICAgICAgICAgICAgc2xpZGUgPSBjZW50cmVkLmNsb3Nlc3QoJy5zbGlkZScpO1xuICAgICAgICAgICAgICAgIGNlbGwgPSBjZW50cmVkLmNsb3Nlc3QoJy5mcC10YWJsZUNlbGwnKTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydF9oZWlnaHQgPSBNYXRoLm1pbihjZWxsLm9mZnNldEhlaWdodCwgcGFyc2VJbnQoY2VsbC5zdHlsZS5oZWlnaHQsIDEwKSk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRfd2lkdGggPSBjZWxsLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudF9oZWlnaHQgPSBwYXJzZUludChjZW50cmVkLmdldEF0dHJpYnV0ZSgnZGF0YS1oZWlnaHQnKSwxMCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodmlld3BvcnRfd2lkdGggPiAxMjIwKXtcbiAgICAgICAgICAgICAgICAgICAgLy8gZGVza3RvcFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50X3dpZHRoID0gMTIzMDtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFfeSA9IDE3MDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCh2aWV3cG9ydF93aWR0aCA+IDc1MCkgJiYgKHZpZXdwb3J0X3dpZHRoIDw9IDEyMjApKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRhYmxldFxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50X3dpZHRoID0gMTA1MDtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFfeSA9IDE3MDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb2JpbGVcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudF93aWR0aCA9IDQwMDtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudF9oZWlnaHQgPSA5MDA7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhX3kgPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGF2YWlsYWJhbGVfaGVpZ2h0ID0gdmlld3BvcnRfaGVpZ2h0IC0gaGVhZGVyX2hlaWdodDtcbiAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX3dpZHRoID0gdmlld3BvcnRfd2lkdGggLSA0MDtcblxuICAgICAgICAgICAgICAgIHNjYWxlX3ggPSBhdmFpbGFiYWxlX2hlaWdodC9lbGVtZW50X2hlaWdodDtcbiAgICAgICAgICAgICAgICBzY2FsZV95ID0gYXZhaWxhYmFsZV93aWR0aC9lbGVtZW50X3dpZHRoO1xuICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oTWF0aC5taW4oc2NhbGVfeCwgc2NhbGVfeSksMSk7XG5cbiAgICAgICAgICAgICAgICB0cl95ID0gMDtcbiAgICAgICAgICAgICAgICB0cl94ID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA8IDc1MCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb2JpbGVcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSBhdmFpbGFiYWxlX2hlaWdodC82MjA7XG4gICAgICAgICAgICAgICAgICAgIGNlbnRyZWQuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSAndHJhbnNsYXRlWCgtNTAlKSBzY2FsZSgnICsgc2NhbGUgKyAnKSc7XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBub3QgbW9iaWxlXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGF2YWlsYWJhbGVfd2lkdGggPCBlbGVtZW50X3dpZHRoICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJfeCA9IC0oZWxlbWVudF93aWR0aCAtIHZpZXdwb3J0X3dpZHRoKS8yIDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIHVwc2NhbGUgdGV4dFxuICAgICAgICAgICAgICAgICAgICBpZiAoc2NhbGU8MSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHN0ZXBzLCAoc3RlcCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXAuc3R5bGVbTW9kZXJuaXpyLnByZWZpeGVkKCd0cmFuc2Zvcm0nKV0gPSAnc2NhbGUoJyArIE1hdGgubWluKCgxL3NjYWxlKSowLjgsIDIpICsgJyknO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cl94ICs9IDMwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdHJfeCArPSAncHgnO1xuICAgICAgICAgICAgICAgICAgICBjZW50cmVkLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gJ3RyYW5zbGF0ZVgoJyArIHRyX3ggKyAnKSB0cmFuc2xhdGVZKCcgKyB0cl95ICsgJykgc2NhbGUoJyArIHNjYWxlICsgJyknO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChyZXNpemFibGVzLCAocmVzaXphYmxlKSA9PiB7XG5cbiAgICAgICAgICAgICAgICBzbGlkZSA9IHJlc2l6YWJsZS5jbG9zZXN0KCcuc2xpZGUnKTtcbiAgICAgICAgICAgICAgICBoZWFkZXIgPSByZXNpemFibGUuY2xvc2VzdCgnLnNsaWRlX19kZXRhaWxzJykucXVlcnlTZWxlY3RvcignLnNsaWRlX19oZWFkZXInKTtcbiAgICAgICAgICAgICAgICBjZWxsID0gcmVzaXphYmxlLmNsb3Nlc3QoJy5mcC10YWJsZUNlbGwnKTtcblxuICAgICAgICAgICAgICAgIHZpZXdwb3J0X2hlaWdodCA9IE1hdGgubWluKGNlbGwub2Zmc2V0SGVpZ2h0LCBwYXJzZUludChjZWxsLnN0eWxlLmhlaWdodCwgMTApKTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydF93aWR0aCA9IGNlbGwub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICBlbGVtZW50X2hlaWdodCA9IHBhcnNlSW50KHJlc2l6YWJsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtaGVpZ2h0JyksMTApO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRfd2lkdGggPSBwYXJzZUludChyZXNpemFibGUuZ2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJyksMTApO1xuXG4gICAgICAgICAgICAgICAgc2NhbGVfeCA9IGF2YWlsYWJhbGVfaGVpZ2h0L2VsZW1lbnRfaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHNjYWxlX3kgPSBhdmFpbGFiYWxlX3dpZHRoL2VsZW1lbnRfd2lkdGg7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSBNYXRoLm1pbihzY2FsZV94LCBzY2FsZV95KTtcblxuXG4gICAgICAgICAgICAgICAgaWYgKHZpZXdwb3J0X3dpZHRoID4gdGhpcy5tb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGFibGV0IGFuZCBkZXNrdG9wIHJlc29sdXRpb25cblxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX2hlaWdodCA9IHZpZXdwb3J0X2hlaWdodCAtIGhlYWRlcl9oZWlnaHQgLSBkZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgYXZhaWxhYmFsZV93aWR0aCA9IHZpZXdwb3J0X3dpZHRoLzIgLSA0MDtcblxuICAgICAgICAgICAgICAgICAgICBzY2FsZV94ID0gYXZhaWxhYmFsZV9oZWlnaHQvZWxlbWVudF9oZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlX3kgPSBhdmFpbGFiYWxlX3dpZHRoL2VsZW1lbnRfd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4oc2NhbGVfeCwgc2NhbGVfeSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGF2YWlsYWJhbGVfaGVpZ2h0IDwgdGhpcy5taW5faGVpZ2h0ICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QuYWRkKCdzbGlkZV9oaWRlLXJlc2l6YWJsZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIHNjYWxlIDwgMSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9ICdzY2FsZSgnICsgc2NhbGUgKyAnKSc7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzbGlkZS5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlX3JpZ2h0Jykpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcl93aWR0aCA9IChwYXJzZUludChyZXNpemFibGUuZ2V0QXR0cmlidXRlKCdkYXRhLXdpZHRoJyksMTApKSpzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIuc3R5bGUuYm9yZGVyTGVmdFdpZHRoID0gYm9yZGVyX3dpZHRoICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IHRoaXMudGFibGV0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0YWJsZXQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luUmlnaHQgPSAoaGVhZGVyLm9mZnNldFdpZHRoLzIgLSBib3JkZXJfd2lkdGgpICsgJ3B4JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyX3dpZHRoID0gKHBhcnNlSW50KHJlc2l6YWJsZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtd2lkdGgnKSwxMCkpKnNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlci5zdHlsZS5ib3JkZXJSaWdodFdpZHRoID0gYm9yZGVyX3dpZHRoICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2aWV3cG9ydF93aWR0aCA+IHRoaXMudGFibGV0ICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0YWJsZXQgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNpemFibGUuc3R5bGUubWFyZ2luTGVmdCA9IChoZWFkZXIub2Zmc2V0V2lkdGgvMiAtIGJvcmRlcl93aWR0aCkgKyAncHgnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBtb2JpbGUgcmVzb2x1dGlvblxuICAgICAgICAgICAgICAgICAgICBhdmFpbGFiYWxlX2hlaWdodCA9IHZpZXdwb3J0X2hlaWdodCAtIGhlYWRlcl9oZWlnaHQgLSBoZWFkZXIub2Zmc2V0SGVpZ2h0IC0gNjA7XG4gICAgICAgICAgICAgICAgICAgIGF2YWlsYWJhbGVfd2lkdGggPSB2aWV3cG9ydF93aWR0aCAtIDQwO1xuXG4gICAgICAgICAgICAgICAgICAgIHNjYWxlX3ggPSBhdmFpbGFiYWxlX2hlaWdodC9lbGVtZW50X2hlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVfeSA9IGF2YWlsYWJhbGVfd2lkdGgvZWxlbWVudF93aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgc2NhbGUgPSBNYXRoLm1pbihzY2FsZV94LCBzY2FsZV95KTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYXZhaWxhYmFsZV93aWR0aCA8IGVsZW1lbnRfd2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5zdHlsZS5tYXJnaW5MZWZ0ID0gLSAoKChlbGVtZW50X3dpZHRoIC0gYXZhaWxhYmFsZV93aWR0aCkvMikgLSAyMCkgKyBcInB4XCJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5zdHlsZS5tYXJnaW5MZWZ0ID0gJ2F1dG8nO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoIGF2YWlsYWJhbGVfaGVpZ2h0IDwgMjAwICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2hpZGRpbmcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsaWRlLmNsYXNzTGlzdC5hZGQoJ3NsaWRlX2hpZGUtcmVzaXphYmxlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICggc2NhbGUgPCAxICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZV9oaWRlLXJlc2l6YWJsZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzaXphYmxlLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gJ3NjYWxlKCcgKyBzY2FsZSArICcpJztcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGUuY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVfaGlkZS1yZXNpemFibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2l6YWJsZS5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5vblJlc2l6ZSgpO1xuXG4gICAgICAgIH1cblxuICAgICAgICBzY3JvbGxUb1RvcChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDEsIDApO1xuICAgICAgICB9XG4gICAgfVxuICAgIG5ldyBMYW5kZ2luZztcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbigpIHtcbiAgICB3aW5kb3cubW9iaWxlQW5kVGFibGV0Y2hlY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGNoZWNrID0gZmFsc2U7XG4gICAgICAgIChmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICBpZiAoLyhhbmRyb2lkfGJiXFxkK3xtZWVnbykuK21vYmlsZXxhdmFudGdvfGJhZGFcXC98YmxhY2tiZXJyeXxibGF6ZXJ8Y29tcGFsfGVsYWluZXxmZW5uZWN8aGlwdG9wfGllbW9iaWxlfGlwKGhvbmV8b2QpfGlyaXN8a2luZGxlfGxnZSB8bWFlbW98bWlkcHxtbXB8bW9iaWxlLitmaXJlZm94fG5ldGZyb250fG9wZXJhIG0ob2J8aW4paXxwYWxtKCBvcyk/fHBob25lfHAoaXhpfHJlKVxcL3xwbHVja2VyfHBvY2tldHxwc3B8c2VyaWVzKDR8NikwfHN5bWJpYW58dHJlb3x1cFxcLihicm93c2VyfGxpbmspfHZvZGFmb25lfHdhcHx3aW5kb3dzIGNlfHhkYXx4aWlub3xhbmRyb2lkfGlwYWR8cGxheWJvb2t8c2lsay9pLnRlc3QoYSkgfHwgLzEyMDd8NjMxMHw2NTkwfDNnc298NHRocHw1MFsxLTZdaXw3NzBzfDgwMnN8YSB3YXxhYmFjfGFjKGVyfG9vfHNcXC0pfGFpKGtvfHJuKXxhbChhdnxjYXxjbyl8YW1vaXxhbihleHxueXx5dyl8YXB0dXxhcihjaHxnbyl8YXModGV8dXMpfGF0dHd8YXUoZGl8XFwtbXxyIHxzICl8YXZhbnxiZShja3xsbHxucSl8YmkobGJ8cmQpfGJsKGFjfGF6KXxicihlfHYpd3xidW1ifGJ3XFwtKG58dSl8YzU1XFwvfGNhcGl8Y2N3YXxjZG1cXC18Y2VsbHxjaHRtfGNsZGN8Y21kXFwtfGNvKG1wfG5kKXxjcmF3fGRhKGl0fGxsfG5nKXxkYnRlfGRjXFwtc3xkZXZpfGRpY2F8ZG1vYnxkbyhjfHApb3xkcygxMnxcXC1kKXxlbCg0OXxhaSl8ZW0obDJ8dWwpfGVyKGljfGswKXxlc2w4fGV6KFs0LTddMHxvc3x3YXx6ZSl8ZmV0Y3xmbHkoXFwtfF8pfGcxIHV8ZzU2MHxnZW5lfGdmXFwtNXxnXFwtbW98Z28oXFwud3xvZCl8Z3IoYWR8dW4pfGhhaWV8aGNpdHxoZFxcLShtfHB8dCl8aGVpXFwtfGhpKHB0fHRhKXxocCggaXxpcCl8aHNcXC1jfGh0KGMoXFwtfCB8X3xhfGd8cHxzfHQpfHRwKXxodShhd3x0Yyl8aVxcLSgyMHxnb3xtYSl8aTIzMHxpYWMoIHxcXC18XFwvKXxpYnJvfGlkZWF8aWcwMXxpa29tfGltMWt8aW5ub3xpcGFxfGlyaXN8amEodHx2KWF8amJyb3xqZW11fGppZ3N8a2RkaXxrZWppfGtndCggfFxcLyl8a2xvbnxrcHQgfGt3Y1xcLXxreW8oY3xrKXxsZShub3x4aSl8bGcoIGd8XFwvKGt8bHx1KXw1MHw1NHxcXC1bYS13XSl8bGlid3xseW54fG0xXFwtd3xtM2dhfG01MFxcL3xtYSh0ZXx1aXx4byl8bWMoMDF8MjF8Y2EpfG1cXC1jcnxtZShyY3xyaSl8bWkobzh8b2F8dHMpfG1tZWZ8bW8oMDF8MDJ8Yml8ZGV8ZG98dChcXC18IHxvfHYpfHp6KXxtdCg1MHxwMXx2ICl8bXdicHxteXdhfG4xMFswLTJdfG4yMFsyLTNdfG4zMCgwfDIpfG41MCgwfDJ8NSl8bjcoMCgwfDEpfDEwKXxuZSgoY3xtKVxcLXxvbnx0Znx3Znx3Z3x3dCl8bm9rKDZ8aSl8bnpwaHxvMmltfG9wKHRpfHd2KXxvcmFufG93ZzF8cDgwMHxwYW4oYXxkfHQpfHBkeGd8cGcoMTN8XFwtKFsxLThdfGMpKXxwaGlsfHBpcmV8cGwoYXl8dWMpfHBuXFwtMnxwbyhja3xydHxzZSl8cHJveHxwc2lvfHB0XFwtZ3xxYVxcLWF8cWMoMDd8MTJ8MjF8MzJ8NjB8XFwtWzItN118aVxcLSl8cXRla3xyMzgwfHI2MDB8cmFrc3xyaW05fHJvKHZlfHpvKXxzNTVcXC98c2EoZ2V8bWF8bW18bXN8bnl8dmEpfHNjKDAxfGhcXC18b298cFxcLSl8c2RrXFwvfHNlKGMoXFwtfDB8MSl8NDd8bWN8bmR8cmkpfHNnaFxcLXxzaGFyfHNpZShcXC18bSl8c2tcXC0wfHNsKDQ1fGlkKXxzbShhbHxhcnxiM3xpdHx0NSl8c28oZnR8bnkpfHNwKDAxfGhcXC18dlxcLXx2ICl8c3koMDF8bWIpfHQyKDE4fDUwKXx0NigwMHwxMHwxOCl8dGEoZ3R8bGspfHRjbFxcLXx0ZGdcXC18dGVsKGl8bSl8dGltXFwtfHRcXC1tb3x0byhwbHxzaCl8dHMoNzB8bVxcLXxtM3xtNSl8dHhcXC05fHVwKFxcLmJ8ZzF8c2kpfHV0c3R8djQwMHx2NzUwfHZlcml8dmkocmd8dGUpfHZrKDQwfDVbMC0zXXxcXC12KXx2bTQwfHZvZGF8dnVsY3x2eCg1Mnw1M3w2MHw2MXw3MHw4MHw4MXw4M3w4NXw5OCl8dzNjKFxcLXwgKXx3ZWJjfHdoaXR8d2koZyB8bmN8bncpfHdtbGJ8d29udXx4NzAwfHlhc1xcLXx5b3VyfHpldG98enRlXFwtL2kudGVzdChhLnN1YnN0cigwLCA0KSkpIGNoZWNrID0gdHJ1ZVxuICAgICAgICB9KShuYXZpZ2F0b3IudXNlckFnZW50IHx8IG5hdmlnYXRvci52ZW5kb3IgfHwgd2luZG93Lm9wZXJhKTtcbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH07XG5cbiAgICB3aW5kb3cuaXNNb2JpbGUgPSB7XG4gICAgICAgIEFuZHJvaWQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9BbmRyb2lkL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgQmxhY2tCZXJyeTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL0JsYWNrQmVycnkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICB9LFxuICAgICAgICBpT1M6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIC9pUGhvbmV8aVBhZHxpUG9kL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgV2luZG93czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gL0lFTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICAgICAgfSxcbiAgICAgICAgYW55OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiAoaXNNb2JpbGUuQW5kcm9pZCgpIHx8IGlzTW9iaWxlLkJsYWNrQmVycnkoKSB8fCBpc01vYmlsZS5pT1MoKSB8fCBpc01vYmlsZS5XaW5kb3dzKCkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGNsYXNzIExheW91dCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAgICAgbGV0IHJlYWR5ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsICgpID0+IHJlc29sdmUoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJlYWR5LnRoZW4odGhpcy5pbml0LmJpbmQodGhpcykpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqL1xuICAgICAgICBpbml0KCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5pc01vYmlsZS5BbmRyb2lkKCkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnYW5kcm9pZCcpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuaXNNb2JpbGUuaU9TKCkpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuY2xhc3NMaXN0LmFkZCgnaW9zJyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpbmRvdy5tb2JpbGVBbmRUYWJsZXRjaGVjaygpKSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlLmNsYXNzTGlzdC5hZGQoJ3Vua25vd24tbW9iaWxlJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdkZXNrdG9wJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgbmV3IExheW91dDtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbiAoKSB7XG4gICAgY2xhc3MgTWVudSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU3RhcnQgaW5pdGlhbGl6YXRpb24gb24gZG9tbG9hZFxuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yICgpIHtcbiAgICAgICAgICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgIT0gXCJsb2FkaW5nXCIpIHJldHVybiByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgKCk9PiByZXNvbHZlKCkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZWFkeS50aGVuKHRoaXMuaW5pdC5iaW5kKHRoaXMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKi9cbiAgICAgICAgaW5pdCAoKSB7XG5cbiAgICAgICAgICAgIGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbicpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBiYWNrX2J1dHRvbnMgPSAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2luX19iYWNrJylcbiAgICAgICAgICAgICAgICAsIGxvZ2luX2J1dHRvbnMgPSAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmxvZ2luX19sb2dpbi1idXR0b24sIC5sb2dpbl9zdWNjZXNzIC5sb2dpbl9fc3VibWl0JylcbiAgICAgICAgICAgICAgICAsIG1vYmlsZV9wb3B1cF9idXR0b25zID0gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm1lbnVfX2ludGVycHJldGVyLCAuaGVhZGVyX19pbnRlcnByZXRlcicpO1xuXG4gICAgICAgICAgICB0aGlzLm1lbnVfcG9wdXBfb3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbiA9ICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tZW51X19sb2dpbicpO1xuICAgICAgICAgICAgdGhpcy5yZWdpc3Rlcl9idXR0b24gPSAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWVudV9fcmVnaXN0ZXInKTtcblxuICAgICAgICAgICAgdGhpcy5zdGVwMSA9ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVnaXN0ZXItc3RlcC0xJyk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAxX2Zvcm0gPSAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9yZWdpc3Rlci1zdGVwLTEgZm9ybS5sb2dpbl9fZm9ybScpO1xuICAgICAgICAgICAgdGhpcy5zdGVwMiA9ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcmVnaXN0ZXItc3RlcC0yJyk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAyX2Zvcm0gPSAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9yZWdpc3Rlci1zdGVwLTIgZm9ybS5sb2dpbl9fZm9ybScpO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2luX2Zvcm0gPSAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9sb2dpbiBmb3JtLmxvZ2luX19mb3JtJyk7XG5cbiAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwID0gICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX21vYmlsZScpO1xuICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfY2xvc2UgPSAgICAgICB0aGlzLm1vYmlsZV9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG5cbiAgICAgICAgICAgIHRoaXMud3JhcHBlciA9ICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1lbnVfX3dyYXBwZXInKTtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyX3JlZ2lzdGVyX2J1dHRvbiA9ICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fbGlua19yZWdpc3RlcicpO1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJfbG9naW5fYnV0dG9uID0gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGVhZGVyX19saW5rX2xvZ2luJyk7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5X2J1dHRvbiA9ICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9fcGFzc3dvcmQtcmVjb3ZlcnknKTtcbiAgICAgICAgICAgIHRoaXMubGlnaHRib3ggPSAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keT4ubGlnaHRib3gnKTtcbiAgICAgICAgICAgIHRoaXMubG9naW5fcG9wdXAgPSAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX2xvZ2luJyk7XG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5ID0gICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sb2dpbl9yZWNvdmVyeScpO1xuICAgICAgICAgICAgdGhpcy5wYXNzd29yZCA9ICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fcGFzc3dvcmQnKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfZm9ybSA9ICAgICAgICAgICAgdGhpcy5yZWNvdmVyeS5xdWVyeVNlbGVjdG9yKCcubG9naW5fX2Zvcm0nKTtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfZm9ybSA9ICAgICAgICAgICAgdGhpcy5wYXNzd29yZC5xdWVyeVNlbGVjdG9yKCcubG9naW5fX2Zvcm0nKTtcblxuICAgICAgICAgICAgdGhpcy5lcnJvcl9tZXNzYWdlID0gICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWxlcnRfZm9ybS1zZW5kLWZhaWwnKTtcblxuICAgICAgICAgICAgdGhpcy5lbWFpbCA9ICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9naW5fZW1haWwnKTtcbiAgICAgICAgICAgIHRoaXMuc3VjY2VzcyA9ICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX3N1Y2Nlc3MnKTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvZ2luX29wZW4nKTtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IFtdO1xuXG4gICAgICAgICAgICB0aGlzLmxvZ2luX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub3BlbkxvZ2luRm9ybS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucmVjb3ZlcnlfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVjb3ZlcnkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZUFsbC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVnaXN0ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmhlYWRlcl9sb2dpbl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Mb2dpbk91dGVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJfcmVnaXN0ZXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUmVnaXN0ZXJPdXRlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMubW9iaWxlX3BvcHVwX2Nsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZU1vYmlsZVBvcHVwLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB0aGlzLnJlY292ZXJ5X2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5zZW5kRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmRfZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnNlbmREYXRhLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5zdGVwMV9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMub3Blbk5leHQuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLnN0ZXAyX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdGhpcy5zZW5kRGF0YS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMubG9naW5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCB0aGlzLnNlbmREYXRhLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5yZXBvc1BvcHVwLmJpbmQodGhpcykpO1xuXG4gICAgICAgICAgICAkKCdzZWxlY3QubGFuZ3VhZ2VfZnJvbScpLnNlbGVjdDIoKTtcbiAgICAgICAgICAgICQoJ3NlbGVjdC5sYW5ndWFnZV90bycpLnNlbGVjdDIoKTtcbiAgICAgICAgICAgICQoJ3NlbGVjdC5sYW5ndWFnZV9sb2NhdGlvbicpLnNlbGVjdDIoKTtcblxuICAgICAgICAgICAgdGhpcy5sYW5ndWFnZV9mcm9tID0gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW5ndWFnZV9mcm9tJyk7XG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlX3RvID0gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmd1YWdlX3RvJyk7XG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlX2xvY2F0aW9uID0gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxhbmd1YWdlX2xvY2F0aW9uJyk7XG5cbiAgICAgICAgICAgICQoXCIubG9naW4gc2VsZWN0Lmxhbmd1YWdlX2Zyb21cIikub24oXCJjaGFuZ2VcIiwgdGhpcy5jaGFuZ2VGcm9tTGFuZ3VhZ2UuYmluZCh0aGlzKSk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubG9naW4nKSwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwobW9iaWxlX3BvcHVwX2J1dHRvbnMsIChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Nb2JpbGVQb3B1cC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoYmFja19idXR0b25zLCAoYnV0dG9uKSA9PiB7XG4gICAgICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5nb2JhY2suYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGxvZ2luX2J1dHRvbnMsIChidXR0b24pID0+IHtcbiAgICAgICAgICAgICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Mb2dpbklubmVyLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuV2ViUlRDU3VwcG9ydCA9ICFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1wZWVyY29ubmVjdGlvbicpO1xuXG5cbiAgICAgICAgICAgIGlmKCF0aGlzLldlYlJUQ1N1cHBvcnQpIHtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtLmxvZ2luX19mb3JtIGlucHV0LCBmb3JtLmxvZ2luX19mb3JtIGJ1dHRvbiwgZm9ybS5sb2dpbl9fZm9ybSBzZWxlY3QnKSwgKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiLFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2Zvcm0ubG9naW5fX2Zvcm0nKSwgKGZvcm0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KT0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5jbG9zZXN0KCcubG9naW4nKS5xdWVyeVNlbGVjdG9yKCcucG9wdXBfYnJvd3NlcicpLm9wZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX2Jyb3dzZXInKSwgKHBvcHVwKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd1BvcHVwKHBvcHVwKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNoYW5nZUZyb21MYW5ndWFnZSAoKSB7XG4gICAgICAgICAgICBsZXQgdmFsdWVfZnJvbSA9IHRoaXMubGFuZ3VhZ2VfZnJvbS52YWx1ZVxuICAgICAgICAgICAgICAgICwgdmFsdWVfdG8gPSB0aGlzLmxhbmd1YWdlX3RvLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAodmFsdWVfZnJvbSA9PT0gdmFsdWVfdG8pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxhbmd1YWdlX3RvLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgICQodGhpcy5sYW5ndWFnZV90bykuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHRoaXMubGFuZ3VhZ2VfdG8ucXVlcnlTZWxlY3RvckFsbCgnb3B0aW9uW3ZhbHVlXVtkaXNhYmxlZF0nKSwgKHRvX2VuYWJsZSk9PntcbiAgICAgICAgICAgICAgICB0b19lbmFibGUucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh0aGlzLmxhbmd1YWdlX3RvLnF1ZXJ5U2VsZWN0b3JBbGwoJ29wdGlvblt2YWx1ZT1cIicgKyB2YWx1ZV9mcm9tICsgJ1wiXScpLCAodG9fZGlzYWJsZSk9PntcbiAgICAgICAgICAgICAgICB0b19kaXNhYmxlLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBpbmVmZmljaWVudCwgYnV0IGl0IGxvb2sgbGl0ZSB0aGVyZSBhcmUgbm8gb3RoZXIgd2F5IGNvcnJlY3RseSBkaXNhYmxlL2VuYWJsZSBzZWxlY3QyIGR5bmFtaWNhbGx5XG4gICAgICAgICAgICAkKHRoaXMubGFuZ3VhZ2VfdG8pLnNlbGVjdDIoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wZW5OZXh0IChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdGhpcy5zdGVwMV9kYXRhID0ge1xuICAgICAgICAgICAgICAgIGZyb206ICQoJ3NlbGVjdC5sYW5ndWFnZV9mcm9tJykuc2VsZWN0MihcInZhbFwiKVxuICAgICAgICAgICAgICAgICwgdG86ICQoJ3NlbGVjdC5sYW5ndWFnZV90bycpLnNlbGVjdDIoXCJ2YWxcIilcbiAgICAgICAgICAgICAgICAsIGxvY2F0aW9uOiAkKCdzZWxlY3QubGFuZ3VhZ2VfbG9jYXRpb24nKS5zZWxlY3QyKFwidmFsXCIpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zdGVwMV9mb3JtLnZhbGlkYXRlKCkgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5zdGVwMik7XG4gICAgICAgIH1cblxuICAgICAgICByZXBvc1BvcHVwIChldmVudCkge1xuICAgICAgICAgICAgaWYoIXRoaXMubWVudV9wb3B1cF9vcGVuKXtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9IFwidHJhbnNsYXRlWShcIiArIHRoaXMubW9iaWxlX3BvcHVwLm9mZnNldEhlaWdodCArIFwicHgpXCI7XG4gICAgICAgIH1cblxuICAgICAgICBjbG9zZU1vYmlsZVBvcHVwICgpIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLm1lbnVfcG9wdXBfb3Blbil7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5tZW51X3BvcHVwX29wZW4gPSBmYWxzZTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXAsIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwLCB7dHJhbnNsYXRlWTogMH0sIDI1MCk7XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwX2J1dHRvbiwgXCJzdG9wXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLCB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICAsIGJlZ2luOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBvcGVuTW9iaWxlUG9wdXAgKCkge1xuICAgICAgICAgICAgaWYodGhpcy5tZW51X3BvcHVwX29wZW4pe1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubWVudV9wb3B1cF9vcGVuID0gdHJ1ZTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXAsIFwic3RvcFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubW9iaWxlX3BvcHVwLCB7dHJhbnNsYXRlWTogdGhpcy5tb2JpbGVfcG9wdXAub2Zmc2V0SGVpZ2h0ICsgXCJweFwifSwgMjUwKTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5tb2JpbGVfcG9wdXBfYnV0dG9uLCBcInN0b3BcIik7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24sIHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1vYmlsZV9wb3B1cF9idXR0b24uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvd1BvcHVwIChwb3B1cCkge1xuICAgICAgICAgICAgaWYgKHBvcHVwLnNob3cgIT0gdW5kZWZpbmVkKXtcbiAgICAgICAgICAgICAgICBwb3B1cC5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5zaG93UG9wdXAuYmluZCh0aGlzLCBwb3B1cCksIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2Nyb2xsIHRvIGZpcnN0IHNsaWRlIGFuZCBvcGVuIGxvZ2luIGZvcm1cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbk91dGVyIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2UubW92ZVRvKDEsIDApO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgICAgIHRoaXMubG9naW5fYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICB9LCA4MDApXG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFNjcm9sbCB0byBmaXJzdCBzbGlkZSBhbmQgb3BlbiByZWdpc3RlciBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuUmVnaXN0ZXJPdXRlciAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLm1vdmVUbygxLCAwKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyX2J1dHRvbi5jbGljaygpO1xuICAgICAgICAgICAgfSwgODAwKVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZW5kIHJlZ2lzdHJhdGlvbiBkYXRhIGFuZCBzaG93IG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNlbmREYXRhIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGxldCBmb3JtID0gZXZlbnQuY3VycmVudFRhcmdldDtcblxuICAgICAgICAgICAgaWYgKGZvcm0udmFsaWRhdGUoKSA9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBsZXQgRE9ORSA9IDRcbiAgICAgICAgICAgICAgICAsIE9LID0gMjAwXG4gICAgICAgICAgICAgICAgLCBhZnRlcl9hY3Rpb25cbiAgICAgICAgICAgICAgICAsIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXG4gICAgICAgICAgICAgICAgLCBsb2FkZWRcbiAgICAgICAgICAgICAgICAsIGluZGV4XG4gICAgICAgICAgICAgICAgLCBkYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RlcDFfZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuYXBwZW5kKCdmcm9tJywgICAgIHRoaXMuc3RlcDFfZGF0YS5mcm9tKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ3RvJywgICAgICAgdGhpcy5zdGVwMV9kYXRhLnRvKTtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5hcHBlbmQoJ2xvY2F0aW9uJywgdGhpcy5zdGVwMV9kYXRhLmxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGVwMV9kYXRhID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsb2FkZWQgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vcGVuKCdQT1NUJywgZm9ybS5nZXRBdHRyaWJ1dGUoJ2FjdGlvbicpKTtcbiAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IERPTkUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57dGhpcy5jbGVhckFsbCgpO30sIDUwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXMgPT09IE9LKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogcGFyc2VJbnQoeGhyLnN0YXR1cywgMTApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogeGhyLnN0YXR1c1RleHRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uaGFzQXR0cmlidXRlKCdkYXRhLXN1Y2Nlc3MnKSkge1xuICAgICAgICAgICAgICAgICAgICBhZnRlcl9hY3Rpb24gPSB0aGlzLnJlZGlyZWN0VG8uYmluZCh0aGlzLCBmb3JtLmdldEF0dHJpYnV0ZSgnZGF0YS1zdWNjZXNzJykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZm9ybS5oYXNBdHRyaWJ1dGUoJ2RhdGEtY2hlY2snKSkge1xuICAgICAgICAgICAgICAgICAgICBhZnRlcl9hY3Rpb24gPSB0aGlzLnNob3dDaGVja01lc3NhZ2UuYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhZnRlcl9hY3Rpb24gPSB0aGlzLnNob3dTdWNjZXNzTWVzc2FnZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxvYWRlZC50aGVuKGFmdGVyX2FjdGlvbikuY2F0Y2godGhpcy5zaG93RXJyb3JNZXNzYWdlLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgICAgIC8vIGxvYWRlZC50aGVuKGFmdGVyX2FjdGlvbikuY2F0Y2goYWZ0ZXJfYWN0aW9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RlcDFEYXRhID0gbnVsbDtcblxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yOiAnLCBlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFJlZGlyZWN0IHRvIHVybFxuICAgICAgICAgKi9cbiAgICAgICAgcmVkaXJlY3RUbyAodXJsKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gdXJsO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IGNoZWNrIGVtYWlsIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dDaGVja01lc3NhZ2UgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSh0aGlzLmVtYWlsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBzdWNjZXNzIG1lc3NhZ2VcbiAgICAgICAgICovXG4gICAgICAgIHNob3dTdWNjZXNzTWVzc2FnZSAoKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5zdWNjZXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiBsb2dpblxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkxvZ2luSW5uZXIgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSh0aGlzLmxvZ2luX3BvcHVwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gU2hvdyBtZXNzYWdlXG4gICAgICAgICAqL1xuICAgICAgICBzaG93RXJyb3JNZXNzYWdlIChyZWFzb24pIHtcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVhc29uLmNvZGUsICdSZXNwb25jZSBzdGF0dXMgY29kZTogJyArIHJlYXNvbi5jb2RlICsgJy4gJyArIHJlYXNvbi5tZXNzYWdlICsgJy4nKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JfbWVzc2FnZS5vcGVuKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbGFzdCBwYWdlXG4gICAgICAgICAqL1xuICAgICAgICBnb2JhY2sgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTaG93IGVtYWlsIHNlbnQgd2FybmluZ1xuICAgICAgICAgKi9cbiAgICAgICAgZW1haWxIYXZlU2VuZCAoKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3QgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5lbWFpbCk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVnaXN0ZXIgZm9ybVxuICAgICAgICAgKi9cbiAgICAgICAgb3BlblJlZ2lzdGVySW5uZXIgKCkge1xuICAgICAgICAgICAgdGhpcy5vcGVuRm9ybSh0aGlzLnN0ZXAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gT3BlbiByZWdpc3RlciBmb3JtXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuUmVnaXN0ZXIgKCkge1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRBbGxvd1Njcm9sbGluZyhmYWxzZSk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEtleWJvYXJkU2Nyb2xsaW5nKGZhbHNlKTtcblxuICAgICAgICAgICAgbGV0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuc3RlcDEsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuc3RlcDE7XG5cbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBiZWdpbjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5saWdodGJveC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5saWdodGJveCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBPcGVuIHJlY292ZXJ5IGZvcm1zXG4gICAgICAgICAqL1xuICAgICAgICBvcGVuUmVjb3ZlcnkgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYoIXRoaXMuV2ViUlRDU3VwcG9ydCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub3BlbkZvcm0odGhpcy5yZWNvdmVyeSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gcmVjb3ZlcnkgZm9ybXNcbiAgICAgICAgICogQHBhcmFtIGZvcm0ge25vZGV9IEZvcm0geW91IHdhbnQgdG8gb3BlblxuICAgICAgICAgKiBAcGFyYW0gYmFjayB7bm9kZX0gRm9ybSB3aGljaCB5b3Ugd2FudCB0byBvcGVuIHdoZW4gdXNlciBwcmVzcyBiYWNrLCBieSBkZWZhdWx0IOKAlMKgbGFzdCBmb3JtIG9wZW5lZFxuICAgICAgICAgKi9cbiAgICAgICAgb3BlbkZvcm0gKHBvcHVwLCBkb250X3NhdmUpIHtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgJC5mbi5mdWxscGFnZS5zZXRLZXlib2FyZFNjcm9sbGluZyhmYWxzZSk7XG5cbiAgICAgICAgICAgIHZhciBmb3JtID0gdGhpcy5jdXJyZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcblxuICAgICAgICAgICAgLy8gJCgnc2VsZWN0Lmxhbmd1YWdlX2Zyb20nKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xuICAgICAgICAgICAgLy8gJCgnc2VsZWN0Lmxhbmd1YWdlX3RvJykuc2VsZWN0MihcInZhbFwiLCBcIlwiKTtcbiAgICAgICAgICAgIC8vICQoJ3NlbGVjdC5sYW5ndWFnZV9sb2NhdGlvbicpLnNlbGVjdDIoXCJ2YWxcIiwgXCJcIik7XG4gICAgICAgICAgICAvLyBpZiAoKGZvcm0gIT0gbnVsbCkgJiYgKHR5cGVvZiBmb3JtLmNsZWFyICE9ICd1bmRlZmluZWQnKSkge1xuICAgICAgICAgICAgLy8gICAgIHNldFRpbWVvdXQoKCk9PntcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGZvcm0hPW51bGwpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGZvcm0uY2xlYXIoKTtcbiAgICAgICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAgICAgLy8gICAgIH0sIDUwMCk7XG4gICAgICAgICAgICAvLyB9XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgcG9wdXAgPT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLmxhc3QubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHBvcHVwID0gdGhpcy5sYXN0LnBvcCgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcG9wdXAgPT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLmxhc3QubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChkb250X3NhdmUgIT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdC5wdXNoKHRoaXMuY3VycmVudCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZvcm0gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG4gICAgICAgICAgICAvLyBpZiAoZm9ybSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgLy8gICAgICAgICBpZiAoZm9ybSE9bnVsbCkge1xuICAgICAgICAgICAgLy8gICAgICAgICAgICAgZm9ybS5jbGVhcigpO1xuICAgICAgICAgICAgLy8gICAgICAgICB9XG4gICAgICAgICAgICAvLyAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgIC8vIH1cblxuICAgICAgICAgICAgbGV0IHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogLSB0aGlzLmN1cnJlbnQub2Zmc2V0V2lkdGggKyBcInB4XCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmN1cnJlbnQsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHByb3BzID0ge1xuICAgICAgICAgICAgICAgICAgICByaWdodDogMFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHBvcHVwLCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnQgPSBwb3B1cDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQ2xvc2UgYWxsIGZvcm1zXG4gICAgICAgICAqL1xuICAgICAgICBjbG9zZUFsbCAoKSB7XG5cbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0QWxsb3dTY3JvbGxpbmcodHJ1ZSk7XG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEtleWJvYXJkU2Nyb2xsaW5nKHRydWUpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAtIHRoaXMuY3VycmVudC5vZmZzZXRXaWR0aCArIFwicHhcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMuY3VycmVudCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gbnVsbDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDI1MFxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMubGlnaHRib3gsIHByb3BzLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCk9Pnt0aGlzLmNsZWFyQWxsKCk7fSwgNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNsZWFyQWxsICgpIHtcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdmb3JtJyksIChmb3JtKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9ybS5jbGVhcigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIE9wZW4gbG9naW4gcG9wdXBcbiAgICAgICAgICovXG4gICAgICAgIG9wZW5Mb2dpbkZvcm0gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAkLmZuLmZ1bGxwYWdlLnNldEFsbG93U2Nyb2xsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICQuZm4uZnVsbHBhZ2Uuc2V0S2V5Ym9hcmRTY3JvbGxpbmcoZmFsc2UpO1xuXG4gICAgICAgICAgICBsZXQgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMjUwXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5sb2dpbl9wb3B1cCwgcHJvcHMsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50ID0gdGhpcy5sb2dpbl9wb3B1cDtcblxuICAgICAgICAgICAgcHJvcHMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxpZ2h0Ym94LnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiAyNTBcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLmxpZ2h0Ym94LCBwcm9wcywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXcgTWVudTtcbn0pKCk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbihmdW5jdGlvbiAoKSB7XG5cbiAgICAvKipcbiAgICAgKiBAY2xhc3MgUG9wdXBcbiAgICAgKi9cbiAgICBjbGFzcyBQb3B1cCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gQWRkaW5nIGV2ZW50cyBhbmQgcHJvcGVydGllc1xuICAgICAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yIChwb3B1cCkge1xuICAgICAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xuICAgICAgICAgICAgcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbG9zZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuY2xvc2UgPSB0aGlzLmNsb3NlLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLm9wZW4gPSB0aGlzLm9wZW4uYmluZCh0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc2hvdyA9IHRoaXMuc2hvdy5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuamFtcGluZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgc2hvdyAoKSB7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlW01vZGVybml6ci5wcmVmaXhlZCgndHJhbnNmb3JtJyldID0gXCJyb3RhdGVYKDApXCI7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBoaWRlICgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdGhpcy5wb3B1cC5zdHlsZVtNb2Rlcm5penIucHJlZml4ZWQoJ3RyYW5zZm9ybScpXSA9IFwicm90YXRlWCgxODBkZWcpXCI7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwgXCJzdG9wXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgY2xvc2UgKCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuamFtcGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCBcImZpbmlzaFwiKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtcbiAgICAgICAgICAgICAgICByb3RhdGVYOiBcIjEyMGRlZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMFxuICAgICAgICAgICAgICAgICwgYmVnaW46ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgb3BlbiAoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5qYW1waW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5qdW1wKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge1xuICAgICAgICAgICAgICAgIHJvdGF0ZVg6IFwiMGRlZ1wiXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDUwMFxuICAgICAgICAgICAgICAgICwgYmVnaW46ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcHVwLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIyMGRlZ1wifSwgMTUwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIDEyNSk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIxMGRlZ1wifSwgMjAwKTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIHtyb3RhdGVYOiBcIjBkZWdcIn0sIHtcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjoxNzVcbiAgICAgICAgICAgICAgICAsIGNvbXBsZXRlOiAoKT0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGp1bXAgKCkge1xuICAgICAgICAgICAgdGhpcy5qYW1waW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIFZlbG9jaXR5KHRoaXMucG9wdXAsIFwiZmluaXNoXCIpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMzVkZWdcIn0sIDE1MCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCAxMjUpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMjBkZWdcIn0sIDIwMCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCAxNzUpO1xuICAgICAgICAgICAgVmVsb2NpdHkodGhpcy5wb3B1cCwge3JvdGF0ZVg6IFwiMTVkZWdcIn0sIDI1MCk7XG4gICAgICAgICAgICBWZWxvY2l0eSh0aGlzLnBvcHVwLCB7cm90YXRlWDogXCIwZGVnXCJ9LCB7XG4gICAgICAgICAgICAgICAgZHVyYXRpb246IDIyNVxuICAgICAgICAgICAgICAgICwgY29tcGxldGU6ICgpPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmphbXBpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICB9XG5cblxuICAgIGxldCByZWFkeSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpPT57XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKT0+IHJlc29sdmUoKSk7XG4gICAgfSk7XG5cbiAgICByZWFkeS50aGVuKCgpPT57XG4gICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfYnJvd3NlcicpLCAocG9wdXApID0+IHtcbiAgICAgICAgICAgIG5ldyBQb3B1cChwb3B1cCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIFtdLmZvckVhY2guY2FsbChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucG9wdXBfY29tbW9uJyksIChwb3B1cCkgPT4ge1xuICAgICAgICAgICAgbmV3IFBvcHVwKHBvcHVwKTtcbiAgICAgICAgICAgIGlmIChwb3B1cC5jbGFzc0xpc3QuY29udGFpbnMoJ3BvcHVwX29wZW4nKSl7XG4gICAgICAgICAgICAgICAgcG9wdXAub3BlbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcblxufSkoKTtcbiIsIlwidXNlIHN0cmljdFwiO1xuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQGNsYXNzZGVzYyBDbGFzcyByZXByZXNlbnRpbmcgZm9ybSB2YWxpZGF0aW9uXG4gICAgICogQGNsYXNzXG4gICAgICovXG5cbiAgICBjbGFzcyBWYWxpZGF0aW9uIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBBZGRpbmcgZXZlbnRzIGFuZCBwcm9wZXJ0aWVzXG4gICAgICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoZm9ybSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICAgICAgICAgIGZvcm0uc2V0QXR0cmlidXRlKFwibm92YWxpZGF0ZVwiLCBcIm5vdmFsaWRhdGVcIik7XG4gICAgICAgICAgICBmb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMudmFsaWRhdGUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBmb3JtLnZhbGlkYXRlID0gdGhpcy52YWxpZGF0ZS5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgZm9ybS5jbGVhciA9IHRoaXMuY2xlYXIuYmluZCh0aGlzKTtcblxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlcyA9IHtcbiAgICAgICAgICAgICAgICBlbjoge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogXCJSZXF1aXJlZCBmaWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICwgZW1haWw6IFwiV3JvbmcgZW1haWwgZm9ybWF0XCJcbiAgICAgICAgICAgICAgICAgICAgLCBlcXVhbDogXCJQYXNzd29yZCBmaWVsZHMgc2hvdWxkIGJlIGVxdWFsXCJcbiAgICAgICAgICAgICAgICAgICAgLCB1bmVxdWFsOiBcIkxhbmd1YWdlcyBzaG91bGRuJ3QgYmUgZXF1YWxcIlxuICAgICAgICAgICAgICAgICAgICAsIHVybDogXCJXcm9uZyB1cmwgZm9ybWF0XCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLCBydToge1xuICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogXCLQn9C+0LvQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdC+INC00LvRjyDQt9Cw0L/QvtC70L3QtdC90LjRj1wiXG4gICAgICAgICAgICAgICAgICAgICwgZW1haWw6IFwi0J/RgNC+0LLQtdGA0YzRgtC1INGE0L7RgNC80LDRgiBlbWFpbFwiXG4gICAgICAgICAgICAgICAgICAgICwgZXF1YWw6IFwi0J/QsNGA0L7Qu9C4INC00L7Qu9C20L3RiyDRgdC+0LLQv9Cw0LTQsNGC0YxcIlxuICAgICAgICAgICAgICAgICAgICAsIHVuZXF1YWw6IFwi0K/Qt9GL0LrQuCDQvdC1INC00L7Qu9C20L3RiyDRgdC+0LLQv9Cw0LTQsNGC0YxcIlxuICAgICAgICAgICAgICAgICAgICAsIHVybDogXCLQn9GA0L7QstC10YDRjNGC0LUg0YTQvtGA0LzQsNGCIFVSTFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZXNldCBmb3JtIGFuZCBjbGVhciBlcnJvcnNcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyICgpIHtcblxuICAgICAgICAgICAgbGV0IHNlbGVjdHMgPSAkKHRoaXMuZm9ybSkuZmluZCgnc2VsZWN0JylcbiAgICAgICAgICAgICAgICAsIGluZGV4ID0gc2VsZWN0cy5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHNlbGVjdHNbaW5kZXhdLnNlbGVjdDIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAkKHNlbGVjdHNbaW5kZXhdKS5zZWxlY3QyKFwidmFsXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdHNbaW5kZXhdLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChzZWxlY3RzW2luZGV4XS5xdWVyeVNlbGVjdG9yQWxsKCdvcHRpb25bdmFsdWVdW2Rpc2FibGVkXScpLCAob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbi5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuZm9ybS5yZXNldCgpO1xuXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XG4gICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5mb3JtLWVycm9yJyksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXZhbGlkXSwgW2RhdGEtaW52YWxpZF0nKTtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlcnJvcnMsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlcnJvci5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChmaWVsZHMsIChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICBmaWVsZC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmFsaWQnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgfSwgMTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gUmVtb3ZlIGVycm9yIG1lc3NhZ2UgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCB3ZSB3aWxsIGFkZCBlcnJvciBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBtZXNzYWdlIC0gZXJyb3IgbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gdHlwcGUgLSBlcnJvciB0eXBlXG4gICAgICAgICAqL1xuICAgICAgICBhZGRFcnJvcihlbGVtZW50LCBtZXNzYWdlLCB0eXBlKSB7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLmZvcm0tZXJyb3JbZGF0YS10eXBlPVwiJyArIHR5cGUgKyAnXCJdJykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBlcnJvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcbiAgICAgICAgICAgIGVycm9yLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgIGVycm9yLmNsYXNzTGlzdC5hZGQoJ2Zvcm0tZXJyb3InKTtcbiAgICAgICAgICAgIGVycm9yLnNldEF0dHJpYnV0ZSgnZGF0YS10eXBlJywgdHlwZSk7XG4gICAgICAgICAgICBlbGVtZW50LnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQoZXJyb3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBSZW1vdmUgZXJyb3IgbWVzc2FnZSBvZiBzb21lIHR5cGUgYWZ0ZXIgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0ge05vZGV9IGVsZW1lbnQgLSBlbGVtZW50LCBhZnRlciB3aGljaCBlcnJvciBtZXNzYWdlIGlzXG4gICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSB0eXBwZSAtIGVycm9yIHR5cGVcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyRXJyb3IoZWxlbWVudCwgdHlwZSkge1xuXG4gICAgICAgICAgICBsZXQgZXJyID0gZWxlbWVudC5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy5mb3JtLWVycm9yW2RhdGEtdHlwZT1cIicgKyB0eXBlICsgJ1wiXScpO1xuICAgICAgICAgICAgaWYgKGVyciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFZhbGlkYXRlIGZvcm1cbiAgICAgICAgICogQHBhcmFtIHtFdmVudH0gZXZlbnQgLSBzdWJtaXQgZXZlbnRcbiAgICAgICAgICogQHRvZG8gSW1wbGVtZW50IGxvZ2luIHZhbGlkYXRpb25cbiAgICAgICAgICovXG4gICAgICAgIHZhbGlkYXRlKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ICE9IFwidW5kZWZpbmVkXCIgJiYgIWV2ZW50LmN1cnJlbnRUYXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXJlbG9hZCcpKSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZSxcbiAgICAgICAgICAgICAgICBuZXh0ID0gbnVsbCxcbiAgICAgICAgICAgICAgICBlcXVhbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtZXF1YWxdJyksXG4gICAgICAgICAgICAgICAgdW5lcXVhbF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtdW5lcXVhbF0nKSxcbiAgICAgICAgICAgICAgICByZXF1aXJlZF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW3JlcXVpcmVkXScpLFxuICAgICAgICAgICAgICAgIHVybF9maWVsZHMgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cInVybFwiXScpLFxuICAgICAgICAgICAgICAgIGVtYWlsX2ZpZWxkcyA9IHRoaXMuZm9ybS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiZW1haWxcIl0nKSxcbiAgICAgICAgICAgICAgICB1cmxfcmVnZXggPSBuZXcgUmVnRXhwKFwiXihodHRwfGh0dHBzfGZ0cClcXDovLyhbYS16QS1aMC05XFwuXFwtXSsoXFw6W2EtekEtWjAtOVxcLiZhbXA7JVxcJFxcLV0rKSpAKSooKDI1WzAtNV18MlswLTRdWzAtOV18WzAtMV17MX1bMC05XXsyfXxbMS05XXsxfVswLTldezF9fFsxLTldKVxcLigyNVswLTVdfDJbMC00XVswLTldfFswLTFdezF9WzAtOV17Mn18WzEtOV17MX1bMC05XXsxfXxbMS05XXwwKVxcLigyNVswLTVdfDJbMC00XVswLTldfFswLTFdezF9WzAtOV17Mn18WzEtOV17MX1bMC05XXsxfXxbMS05XXwwKVxcLigyNVswLTVdfDJbMC00XVswLTldfFswLTFdezF9WzAtOV17Mn18WzEtOV17MX1bMC05XXsxfXxbMC05XSl8KFthLXpBLVowLTlcXC1dK1xcLikqW2EtekEtWjAtOVxcLV0rXFwuKGNvbXxlZHV8Z292fGludHxtaWx8bmV0fG9yZ3xiaXp8YXJwYXxpbmZvfG5hbWV8cHJvfGFlcm98Y29vcHxtdXNldW18W2EtekEtWl17Mn0pKShcXDpbMC05XSspKigvKCR8W2EtekEtWjAtOVxcLlxcLFxcP1xcJ1xcXFxcXCsmYW1wOyVcXCQjXFw9fl9cXC1dKykpKiRcIiwgXCJpXCIpLFxuICAgICAgICAgICAgICAgIGVtYWlsX3JlZ2V4ID0gbmV3IFJlZ0V4cChcIl4oW2EtekEtWjAtOV9cXC5cXC1dKStcXEAoKFthLXpBLVowLTlcXC1dKStcXC4pKyhbYS16QS1aMC05XXsyLDR9KSskXCIpO1xuXG4gICAgICAgICAgICAvKiBjaGVjayBlcXVhbCBmaWVsZHMgKi9cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChlcXVhbF9maWVsZHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGVxdWFsID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWVxdWFsXCIpKTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC52YWx1ZS50cmltKCkgIT0gZXF1YWwudmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLmVxdWFsLCBcImVxdWFsXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcihlbGVtZW50LCBcImVxdWFsXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiBjaGVjayB1bmVxdWFsIGZpZWxkcyAqL1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHVuZXF1YWxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCB1bmVxdWFsID0gdGhpcy5mb3JtLnF1ZXJ5U2VsZWN0b3IoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXVuZXF1YWxcIikpO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50Lm9wdGlvbnNbZWxlbWVudC5zZWxlY3RlZEluZGV4XS52YWx1ZS50cmltKCkgPT0gdW5lcXVhbC5vcHRpb25zW3VuZXF1YWwuc2VsZWN0ZWRJbmRleF0udmFsdWUudHJpbSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLnVuZXF1YWwsIFwidW5lcXVhbFwiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRXJyb3IoZWxlbWVudCwgXCJ1bmVxdWFsXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvKiBjaGVjayByZXF1aXJlZCBmaWVsZHMgKi9cbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChyZXF1aXJlZF9maWVsZHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudmFsdWUudHJpbSgpID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkRXJyb3IoZWxlbWVudCwgdGhpcy5tZXNzYWdlc1tkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCdsYW5nJyldLnJlcXVpcmVkLCBcInJlcXVpcmVkXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcihlbGVtZW50LCAncmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogY2hlY2sgdXJsIGZpZWxkcyAqL1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHVybF9maWVsZHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKChlbGVtZW50LnZhbHVlLnRyaW0oKS5sZW5ndGggPiAwKSAmJiAodXJsX3JlZ2V4LnRlc3QoZWxlbWVudC52YWx1ZS50cmltKCkpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFcnJvcihlbGVtZW50LCB0aGlzLm1lc3NhZ2VzW2RvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2xhbmcnKV0udXJsLCAndXJsJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckVycm9yKGVsZW1lbnQsICd1cmwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLyogY2hlY2sgZW1haWwgZmllbGRzICovXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZW1haWxfZmllbGRzLCAoZWxlbWVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICgoZWxlbWVudC52YWx1ZS50cmltKCkubGVuZ3RoID4gMCkgJiYgKGVtYWlsX3JlZ2V4LnRlc3QoZWxlbWVudC52YWx1ZS50cmltKCkpID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRFcnJvcihlbGVtZW50LCB0aGlzLm1lc3NhZ2VzW2RvY3VtZW50LmJvZHkucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ2xhbmcnKV0uZW1haWwsICdlbWFpbCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJFcnJvcihlbGVtZW50LCAnZW1haWwnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICBsZXQgYWxsX2ZpZWxkcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGVxdWFsX2ZpZWxkcykuY29uY2F0KFxuICAgICAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJlcXVpcmVkX2ZpZWxkcyksXG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodXJsX2ZpZWxkcyksXG4gICAgICAgICAgICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZW1haWxfZmllbGRzKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFsbF9maWVsZHMsIChlbGVtZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGVyciA9IGVsZW1lbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yKCcuZm9ybS1lcnJvcicpO1xuICAgICAgICAgICAgICAgIGlmIChlcnIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW52YWxpZCA9IGRvY3VtZW50LmNyZWF0ZUF0dHJpYnV0ZShcImRhdGEtaW52YWxpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZC52YWx1ZSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PSBcIlNFTEVDVFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRTaWJsaW5nLnNldEF0dHJpYnV0ZU5vZGUoaW52YWxpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRTaWJsaW5nLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS12YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGVOb2RlKGludmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtdmFsaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IHZhbGlkID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKFwiZGF0YS12YWxpZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQudmFsdWUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09IFwiU0VMRUNUXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQubmV4dFNpYmxpbmcuc2V0QXR0cmlidXRlTm9kZSh2YWxpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50Lm5leHRTaWJsaW5nLnJlbW92ZUF0dHJpYnV0ZSgnZGF0YS1pbnZhbGlkJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZU5vZGUodmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2RhdGEtaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBlcnJvcnNfY291bnQgPSB0aGlzLmZvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fZXJyb3InKS5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoZXJyb3JzX2NvdW50ID4gMCkge1xuICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh2YWxpZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ICE9IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcblxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBsZXQgcmVhZHkgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlICE9IFwibG9hZGluZ1wiKSByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCAoKSA9PiByZXNvbHZlKCkpO1xuICAgIH0pO1xuXG4gICAgcmVhZHkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgbGV0IGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZm9ybScpO1xuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoZm9ybXMsIChmb3JtKSA9PiB7XG4gICAgICAgICAgICBuZXcgVmFsaWRhdGlvbihmb3JtKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbn0pKCk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=